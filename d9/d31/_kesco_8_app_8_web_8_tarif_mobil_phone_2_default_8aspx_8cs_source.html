<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kesco Development Network: Исходный файл Source/WEB_V4/Kesco.App.Web.TarifMobilPhone/Default.aspx.cs</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kesco Development Network
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="../../dir_4781ae3b1ec0850db8bd10105eacd4d3.html">WEB_V4</a></li><li class="navelem"><a class="el" href="../../dir_bca085d46d3ae8aa85eedf401ca5a15d.html">Kesco.App.Web.TarifMobilPhone</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Default.aspx.cs</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs.html">См. документацию.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Collections.Generic;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Collections.Specialized;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Data;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Data.SqlClient;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Globalization;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.IO;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Linq;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Resources;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Text;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Web;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Web.Hosting;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../d6/d9d/namespace_kesco_1_1_lib_1_1_d_a_l_c.html">DALC</a>;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../da/dd9/namespace_kesco_1_1_lib_1_1_entities.html">Entities</a>;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../d9/d95/namespace_kesco_1_1_lib_1_1_localization.html">Localization</a>;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../dc/d00/namespace_kesco_1_1_lib_1_1_web.html">Web</a>;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../dc/d00/namespace_kesco_1_1_lib_1_1_web.html">Web</a>.<a class="code" href="../../df/d82/namespace_kesco_1_1_lib_1_1_web_1_1_controls.html">Controls</a>.<a class="code" href="../../d3/df8/namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4.html">V4</a>;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../dc/d00/namespace_kesco_1_1_lib_1_1_web.html">Web</a>.<a class="code" href="../../df/d82/namespace_kesco_1_1_lib_1_1_web_1_1_controls.html">Controls</a>.<a class="code" href="../../d3/df8/namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4.html">V4</a>.<a class="code" href="../../d7/da9/namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_common.html">Common</a>;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs.html#aa4a423984acd7b27acf663a825347699">   19</a></span>&#160;<span class="keyword">using</span> <a class="code" href="../../de/db9/namespace_convert.html">Convert</a> = <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../d2/d8c/namespace_kesco_1_1_lib_1_1_convert_extention.html">ConvertExtention</a>.<a class="code" href="../../d3/d98/class_kesco_1_1_lib_1_1_convert_extention_1_1_convert.html">Convert</a>;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs.html#a250da6ccd9787d11402c2f2475da41e9">   20</a></span>&#160;<span class="keyword">using</span> <a class="code" href="../../d1/d7c/namespace_utils.html">Utils</a> = <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../d2/d8c/namespace_kesco_1_1_lib_1_1_convert_extention.html">ConvertExtention</a>;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../dc/d00/namespace_kesco_1_1_lib_1_1_web.html">Web</a>.<a class="code" href="../../dd/d85/namespace_kesco_1_1_lib_1_1_web_1_1_d_b_select.html">DBSelect</a>.<a class="code" href="../../dd/d4c/namespace_kesco_1_1_lib_1_1_web_1_1_d_b_select_1_1_v4.html">V4</a>;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using</span> <a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.<a class="code" href="../../dd/d63/namespace_kesco_1_1_lib.html">Lib</a>.<a class="code" href="../../dc/d00/namespace_kesco_1_1_lib_1_1_web.html">Web</a>.<a class="code" href="../../d0/d04/namespace_kesco_1_1_lib_1_1_web_1_1_settings.html">Settings</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d2/d2a/namespace_kesco.html">Kesco</a>.App.Web.TarifMobilPhone</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">   29</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">enum</span> <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    {</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0ca88183b946cc5f0e8c96b2e66e1c74a7e">Unknown</a> = 0,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0ca43a016fd2e7b236e05f2d7b643beca3f">OnCostOfEachCall</a> = 1,</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0cac5cca2f81c093b7d3e31d546c8e98fdd">OnTotalSumOfContract</a> = 2,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0ca3c841b03acb069eccf34fa1e6898c992">NotRequired</a> = 3</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html">   52</a></span>&#160;    <span class="keyword">public</span> <span class="keyword">partial class </span><a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html">DefaultPage</a> : <a class="code" href="../../df/dcf/namespace_page.html">Page</a></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;       </div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#afcb96283f6c06f188473d68748828a39">   55</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">string</span> HelpUrl { <span class="keyword">get</span>; <span class="keyword">set</span>; }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;       </div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aed44c3babc2ab8b7111bfb03c94eacef">   60</a></span>&#160;        <span class="keyword">public</span> <span class="keywordtype">string</span> CurrentLevel = <span class="stringliteral">&quot;1&quot;</span>;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a3809b6b14a161daca11b3bcc423a5dae">   64</a></span>&#160;        <span class="keyword">public</span> ResourceManager Resx = <a class="code" href="../../d6/d0f/class_kesco_1_1_lib_1_1_localization_1_1_resources.html">Resources</a>.<a class="code" href="../../d6/d0f/class_kesco_1_1_lib_1_1_localization_1_1_resources.html#a67097b04050ae4440544d99a8b529712">Resx</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        </div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    </div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">        #region Protected Var</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        </div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac549c885137b5e8fe62398160c8695a6">   73</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> LegendTitle = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a68ba18ec78a86a5d77441031bdfe8818">   77</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TitleGray = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a67aa56ec9ddbf09070af049461c74097">   81</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TitleOrange = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a9ffb01e76ba0d3551eff7aab4502ffa8">   85</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TitleWhite = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        </div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a478728846ed34f262f01982d525d2539">   90</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_AllYear = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac677123787757ebaca803f260b7396cc">   95</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FOpenMonth = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a11e3b9dfb866895628d26f9d1e5a4d55">   99</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FYear = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a8e062007e5934ad4dd83c98800001d78">  103</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FMonth = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae659f22bc1984b2fa8017d3cac39cc2d">  107</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FDogovor = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a51e84468a2e265612b458f424895907d">  111</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FEmployee = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2913b55e3bb081f655992de4d2840023">  115</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FPhone = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#adc1964240a30c3f8a59a1a907c4a99be">  119</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_ClearFilter = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab9cedca743f8580158df960318d9fa84">  123</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FilterApply = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a8867aa2eebd412d2296c773c39a59d8b">  127</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Rpt1 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab2c9d5b0e9057ed99393d4ccb48bbef4">  131</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Rpt2 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a924be8898a9411b2c51e50594b88d727">  135</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Rpt3 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a9f2eee29998dd0f350bbd6d86c446653">  139</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Rpt4 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a45ef991ea6fedca284cd88054e697e05">  143</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Rpt5 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a12db70266030faef11e0184aa72b19d4">  147</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_TblColumn2 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a752d6c260c3e43704fe43fb51a7a7e72">  151</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_TblColumn3 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ade9d1008f6d43c4219d62e4f2d85a1bb">  155</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_TblColumn4_0 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a461b59b1ecf9a7ca54f01e1b14775b5d">  159</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_TblColumn4_1 = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0964ec381f32496c9d7d07d452f2aa0a">  163</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FDataEmptyMonth = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a30f59fe7771f993472eca91955ee5b77">  167</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FDataEmptyDogovor = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4269376bab6d48fad47ccd4e091d24e5">  171</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FDataEmptyEmployee = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#afe644f82abb3d045cca3dd2dacce86ee">  175</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_FDataEmptyPhone = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a543c650c9bb91efe5c7e9ffa6f298329">  179</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aff255204e5adc983329103e5891d3312">  183</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_RptDetail = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a62aacc80e90ee41874aca968b26b86d4">  188</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Empty = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac4f0ad4d92b589c716a2289e77c07e96">  193</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> TM_Wait = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a8178a45b4344125c0591ce6415fec729">  198</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">string</span> TM_OutSimData = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a33f303438723fa6400a93eb54bc11ac4">  203</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">string</span> TM_Issued = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        </div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a6475ab394d87e92089e6f384c70cbda2">  208</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">string</span> TM_Withdrawn = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        </div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a3d92d9cf20fb2cc62c238703dff1a2ca">  214</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">string</span> TM_SimInfo = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        </div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        </div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aaf1149db76e92e32bec31c870a53b85d">  222</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">string</span> Title_Help = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        </div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        </div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">        #region Private Var</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        </div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a850a3cc9e8a5bd9f5dfc2b958b8819da">  233</a></span>&#160;        <span class="keyword">private</span> DataTable <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a850a3cc9e8a5bd9f5dfc2b958b8819da">_currencies</a>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        </div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a1f0b92bfdb73888b62e0268d65429936">  238</a></span>&#160;        <span class="keyword">private</span> readonly <span class="keywordtype">string</span> _colorGray = <span class="stringliteral">&quot;lightgray&quot;</span>;</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a9a333ff17a83d3f8fd2cae0b93cf1f03">  242</a></span>&#160;        <span class="keyword">private</span> readonly <span class="keywordtype">string</span> _colorWhite = <span class="stringliteral">&quot;white&quot;</span>;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a67a1ac04d930ebdd745d650198177e38">  246</a></span>&#160;        <span class="keyword">private</span> readonly <span class="keywordtype">string</span> _colorOrange = <span class="stringliteral">&quot;darkorange&quot;</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  </div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="preprocessor">        #region Override</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   </div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac7e28fe7dfeb0d60a7daf9f0210afff2">  258</a></span>&#160;        <span class="keyword">protected</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac7e28fe7dfeb0d60a7daf9f0210afff2">Page_Load</a>(<span class="keywordtype">object</span> sender, EventArgs e)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        {</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">if</span> (!V4IsPostBack)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                chOpenMonth.Changed += Event_chOpenMonth_Changed;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                cbYear.Changed += Event_cbYear_Changed;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                cbMonth.Changed += Event_cbMonth_Changed;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                cbDogovor.Changed += Event_cbDogovor_Changed;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                cbEmployee.Changed += Event_cbEmployee_Changed;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                cbPhone.Changed += Event_cbPhone_Changed;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                ResxResourceSet();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                FillComboBox();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                chOpenMonth.Checked = <span class="keyword">false</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                OpenMonthChanged(<span class="stringliteral">&quot;0&quot;</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                FillCurrencies();</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                HelpUrl = <span class="stringliteral">&quot;hlp/help.htm&quot;</span>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;               </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        </div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aaef85e1a2d0599c8bc1b7dc6b4a6b63c">  305</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aaef85e1a2d0599c8bc1b7dc6b4a6b63c">ProcessCommand</a>(<span class="keywordtype">string</span> cmd, NameValueCollection param)</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">switch</span> (cmd)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;RemoveItem&quot;</span>:</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                   <span class="comment">// RemoveItem(param[&quot;id&quot;], param[&quot;type&quot;]);</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;OpentRpt&quot;</span>:</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    RenderOpenRptLink(param[<span class="stringliteral">&quot;inx&quot;</span>]);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                <span class="comment">//case &quot;OpentBln&quot;:</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="comment">//    OpentBln();</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="comment">//    break;</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;FilterClear&quot;</span>:</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    FilterClear();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;FilterApply&quot;</span>:</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    FilterApply();</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;SetLevel&quot;</span>:</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    CurrentLevel = param[<span class="stringliteral">&quot;CurrentLevel&quot;</span>];</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">case</span> <span class="stringliteral">&quot;RenderSim&quot;</span>:</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                    RenderSim(param[<span class="stringliteral">&quot;id&quot;</span>], param[<span class="stringliteral">&quot;data&quot;</span>]);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="keywordflow">default</span>:</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    base.ProcessCommand(cmd, param);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            }</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;       </div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4c77ba404fc4f69a33f99086d698a69b">  340</a></span>&#160;        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4c77ba404fc4f69a33f99086d698a69b">ResxResourceSet</a>()</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            LegendTitle = Resx.GetString(<span class="stringliteral">&quot;TM_LegendTitle&quot;</span>);</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            </div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            TitleGray = Resx.GetString(<span class="stringliteral">&quot;TM_TitleGray2&quot;</span>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            TitleWhite = Resx.GetString(<span class="stringliteral">&quot;TM_TitleWhite&quot;</span>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            TitleOrange = Resx.GetString(<span class="stringliteral">&quot;TM_TitleOrange&quot;</span>);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            TM_FOpenMonth = Resx.GetString(<span class="stringliteral">&quot;TM_FOpenMonth&quot;</span>);</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            TM_FYear = Resx.GetString(<span class="stringliteral">&quot;TM_FYear&quot;</span>);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            TM_FMonth = Resx.GetString(<span class="stringliteral">&quot;TM_FMonth&quot;</span>);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            TM_FDogovor = Resx.GetString(<span class="stringliteral">&quot;TM_FDogovor&quot;</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            TM_FEmployee = Resx.GetString(<span class="stringliteral">&quot;TM_FEmployee&quot;</span>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            TM_FPhone = Resx.GetString(<span class="stringliteral">&quot;TM_FPhone&quot;</span>);</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            TM_ClearFilter = Resx.GetString(<span class="stringliteral">&quot;TM_ClearFilter&quot;</span>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            TM_FilterApply = Resx.GetString(<span class="stringliteral">&quot;TM_FilterApply&quot;</span>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            TM_Rpt1 = Resx.GetString(<span class="stringliteral">&quot;TM_Rpt1&quot;</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            TM_Rpt2 = Resx.GetString(<span class="stringliteral">&quot;TM_Rpt2&quot;</span>);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            TM_Rpt3 = Resx.GetString(<span class="stringliteral">&quot;TM_Rpt3&quot;</span>);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            TM_Rpt4 = Resx.GetString(<span class="stringliteral">&quot;TM_Rpt4&quot;</span>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            TM_Rpt5 = Resx.GetString(<span class="stringliteral">&quot;TM_Rpt5&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            TM_TblColumn2 = Resx.GetString(<span class="stringliteral">&quot;TM_TblColumn2&quot;</span>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            TM_TblColumn3 = Resx.GetString(<span class="stringliteral">&quot;TM_TblColumn3&quot;</span>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            TM_TblColumn4_0 = Resx.GetString(<span class="stringliteral">&quot;TM_TblColumn4_0&quot;</span>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            TM_TblColumn4_1 = Resx.GetString(<span class="stringliteral">&quot;TM_TblColumn4_1&quot;</span>);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            TM_FDataEmptyMonth = Resx.GetString(<span class="stringliteral">&quot;TM_FDataEmptyMonth&quot;</span>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            TM_FDataEmptyDogovor = Resx.GetString(<span class="stringliteral">&quot;TM_FDataEmptyDogovor&quot;</span>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            TM_FDataEmptyEmployee = Resx.GetString(<span class="stringliteral">&quot;TM_FDataEmptyEmployee&quot;</span>);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            TM_FDataEmptyPhone = Resx.GetString(<span class="stringliteral">&quot;TM_FDataEmptyPhone&quot;</span>);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            TM_Title = Resx.GetString(<span class="stringliteral">&quot;TM_Title&quot;</span>);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            TM_RptDetail = Resx.GetString(<span class="stringliteral">&quot;TM_RptDetail&quot;</span>);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            TM_Empty = Resx.GetString(<span class="stringliteral">&quot;TM_Empty&quot;</span>);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            TM_Wait = Resx.GetString(<span class="stringliteral">&quot;TM_Wait&quot;</span>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            TM_OutSimData = Resx.GetString(<span class="stringliteral">&quot;TM_OutSimData&quot;</span>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            TM_Issued = Resx.GetString(<span class="stringliteral">&quot;TM_Issued&quot;</span>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;            TM_Withdrawn = Resx.GetString(<span class="stringliteral">&quot;TM_Withdrawn&quot;</span>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            TM_SimInfo = Resx.GetString(<span class="stringliteral">&quot;TM_SimInfo&quot;</span>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            Title_Help = Resx.GetString(<span class="stringliteral">&quot;Title_Help&quot;</span>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            TM_AllYear = Resx.GetString(<span class="stringliteral">&quot;TM_AllYear&quot;</span>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;       </div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;       </div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="preprocessor">        #region Ссылки на странице</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">        private void OpentBln()</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">            string pOpenMonth = chOpenMonth.Value.Length == 0 ? &quot;0&quot; : chOpenMonth.Value;</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">            string pYear = pOpenMonth.Equals(&quot;1&quot;) ? &quot;0&quot; : cbYear.Value;</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">            string pMonth = pOpenMonth.Equals(&quot;1&quot;) ? &quot;0&quot; : cbMonth.Value;</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">            string pDogovor = null;</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">            string pDogovorT = &quot;билайн&quot;;</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">            string pUser = null;</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">            string pPhone = &quot;&quot;;</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">            JS.Write(&quot;openDetailItem(&#39;{0}&#39;,&#39;{1}&#39;,&#39;{2}&#39;,&#39;{3}&#39;,&#39;{4}&#39;,&#39;{5}&#39;,&#39;{6}&#39;, &#39;1&#39;, &#39;{7}&#39;,&#39;{8}&#39;, &#39;{9}&#39;, &#39;{10}&#39;, &#39;{11}&#39;, &#39;{12}&#39;);&quot;</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">                , pOpenMonth</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">                , pYear</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">                , pMonth</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">                , pDogovor </span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">                , HttpUtility.JavaScriptStringEncode(pDogovorT)</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">                , pUser</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">                , pPhone</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">                , 1</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">                , 0.18</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">                , 0</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">                , 2</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">                , HttpUtility.JavaScriptStringEncode(string.Format(&quot;background:{0};&quot;, colorWhite))</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">                , HttpUtility.JavaScriptStringEncode(&quot;&quot;)</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment">                );</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa0bcdcc149e78d0135e5766ebf7c03e1">  425</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa0bcdcc149e78d0135e5766ebf7c03e1">RenderOpenRptLink</a>(<span class="keywordtype">string</span> p)</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordtype">string</span> year = cbYear.Value.Length == 0 ? <span class="stringliteral">&quot;-1&quot;</span> : cbYear.Value;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordtype">string</span> month = cbMonth.Value.Length == 0 ? <span class="stringliteral">&quot;-1&quot;</span> : cbMonth.Value;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordtype">string</span> dogovor = cbDogovor.Value.Length == 0 ? <span class="stringliteral">&quot;-1&quot;</span> : cbDogovor.Value;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (chOpenMonth.Value.Equals(<span class="stringliteral">&quot;1&quot;</span>))</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                year = <span class="stringliteral">&quot;0&quot;</span>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                month = <span class="stringliteral">&quot;0&quot;</span>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            }</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordtype">string</span> url = <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#ab8bfb1348fb4ecd4ea204708861e9134">uri_Report</a> + <span class="stringliteral">&quot;?/Accounting/AccountingMobil&quot;</span> + p +</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;                         <span class="stringliteral">&quot;&amp;rc:parameters=false&amp;rs:ClearSession=true&quot;</span>;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            url += <span class="stringliteral">&quot;&amp;Year=&quot;</span> + year;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            url += <span class="stringliteral">&quot;&amp;Month=&quot;</span> + month;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            url += <span class="stringliteral">&quot;&amp;Dogovor=&quot;</span> + dogovor;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            JS.Write(<span class="stringliteral">&quot;window.open(&#39;{0}&#39;,&#39;_blank&#39;, &#39;menubar=no,location=no,resizable=yes,scrollbars=yes,status=yes&#39;);&quot;</span>,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                     HttpUtility.JavaScriptStringEncode(url));</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        </div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        </div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">        #region Handlers</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ad05b0da58c1360e9a8e02b646522e426">  460</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ad05b0da58c1360e9a8e02b646522e426">Event_chOpenMonth_Changed</a>(<span class="keywordtype">object</span> sender, <a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">ProperyChangedEventArgs</a> e)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            OpenMonthChanged(e.<a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html#a855235f39f09b9e51684225d52e32e99">NewValue</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae47329d85f22eebdc0be5596ea309822">  470</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae47329d85f22eebdc0be5596ea309822">OpenMonthChanged</a>(<span class="keywordtype">string</span> v, <span class="keywordtype">bool</span> filterApply)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            DisplayRowsData(v);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            FillComboBoxDogovor();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            FillComboBoxEmployee();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;            FillComboBoxPhone();</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;            ResultClear();</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="comment">//if (filterApply) FilterApply();</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a167c647cb3dee0f6d6524c440da86f18">  486</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a167c647cb3dee0f6d6524c440da86f18">Event_cbYear_Changed</a>(<span class="keywordtype">object</span> sender, <a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">ProperyChangedEventArgs</a> e)</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            YearChanged();</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        }</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4b48051f6f75d92da5d71f76d5482308">  493</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4b48051f6f75d92da5d71f76d5482308">YearChanged</a>()</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        {</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            FillComboBoxDogovor();</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            FillComboBoxEmployee();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            FillComboBoxPhone();</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            ResultClear();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="comment">//FilterApply();</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab78579fcdd687687d7af020f70733c36">  508</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab78579fcdd687687d7af020f70733c36">Event_cbMonth_Changed</a>(<span class="keywordtype">object</span> sender, <a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">ProperyChangedEventArgs</a> e)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            MonthChanged();</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        }</div><div class="line"><a name="l00515"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a54f0d44891c1e5e6cf1f8ae448f99ce0">  515</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a54f0d44891c1e5e6cf1f8ae448f99ce0">MonthChanged</a>()</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            FillComboBoxDogovor();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            FillComboBoxEmployee();</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            FillComboBoxPhone();</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            ResultClear();</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="comment">//FilterApply();</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;     </div><div class="line"><a name="l00531"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4280cdc8f1b62003eb2ca95b93c9c5c2">  531</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4280cdc8f1b62003eb2ca95b93c9c5c2">Event_cbDogovor_Changed</a>(<span class="keywordtype">object</span> sender, <a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">ProperyChangedEventArgs</a> e)</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            DogovorChanged();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div><div class="line"><a name="l00538"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a898a788ceb9f8437717b660e55cf21cc">  538</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a898a788ceb9f8437717b660e55cf21cc">DogovorChanged</a>()</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            FillComboBoxEmployee();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            FillComboBoxPhone();</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            ResultClear();</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="comment">//FilterApply();</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac733282235153c5bbadb4b24cd7af7e5">  552</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac733282235153c5bbadb4b24cd7af7e5">Event_cbEmployee_Changed</a>(<span class="keywordtype">object</span> sender, <a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">ProperyChangedEventArgs</a> e)</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            EmployeeChanged();</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        }</div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a889228d035b0e21528b27c250606b5ce">  559</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a889228d035b0e21528b27c250606b5ce">EmployeeChanged</a>()</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        {</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            FillComboBoxPhone();</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            ResultClear();</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            <span class="comment">//FilterApply();</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4d9b6d867bb6b1ebf9ac334e9cb0ad85">  572</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4d9b6d867bb6b1ebf9ac334e9cb0ad85">Event_cbPhone_Changed</a>(<span class="keywordtype">object</span> sender, <a class="code" href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">ProperyChangedEventArgs</a> e)</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        {</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            PhoneChanged();</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        }</div><div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a8cbd9d42e72c842be7905538b8512b58">  579</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a8cbd9d42e72c842be7905538b8512b58">PhoneChanged</a>()</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            ResultClear();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="comment">//FilterApply();</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        </div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        </div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="preprocessor">        #region FillList</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0c906bad8cfe92f7c4456cc2949c2855">  594</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0c906bad8cfe92f7c4456cc2949c2855">DisplayRowsData</a>(<span class="keywordtype">string</span> p)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordtype">bool</span> disp = p.Equals(<span class="stringliteral">&quot;1&quot;</span>) ? false : <span class="keyword">true</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;            Display(<span class="stringliteral">&quot;tr2&quot;</span>, disp);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            Display(<span class="stringliteral">&quot;tr3&quot;</span>, disp);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a88704bff3937ca059d8ecef0a4823e90">  604</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a88704bff3937ca059d8ecef0a4823e90">FillCurrencies</a>()</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            Dictionary&lt;string, object&gt; sqlParams = GetSQLParams(-1);</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            _currencies = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#aef6f52b9b1e036afed529d13418e108f">SQL_СписокВалют</a>, <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a52c863990629e8a79946dcdabacc9bfb">DS_person</a>, CommandType.Text, sqlParams);</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a5f49b77ba6cc768ce9b00407456d3a77">  613</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a5f49b77ba6cc768ce9b00407456d3a77">FillComboBox</a>()</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        {</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            FillComboBoxYear();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            FillComboBoxMonth();</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a1667c07f5152cda40afa04d2a6c54e4a">  622</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a1667c07f5152cda40afa04d2a6c54e4a">FillComboBoxYear</a>()</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        {</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            cbYear.EmptyValueExist = <span class="keyword">false</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            cbYear.Items.Clear();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            cbYear.DataItems.Clear();</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            cbYear.KeyField = <span class="stringliteral">&quot;Год&quot;</span>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            cbYear.ValueField = <span class="stringliteral">&quot;ГодТекст&quot;</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            DataTable dt = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#a61523034fa74fa9f61c0fd488287dc15">SQL_ПервыйГодТарификации</a>, <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a652ea879553e47f9f54df4c27508d01e">DS_accounting_phone</a>,</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                                             CommandType.Text, null);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            cbYear.FillList = dt.AsEnumerable;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <span class="keywordflow">if</span> (cbYear.Contains(DateTime.Today.Year.ToString()))</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                cbYear.Value = DateTime.Today.Year.ToString();</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            {</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                <span class="keywordflow">if</span> (dt.Rows.Count &gt; 0)</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    cbYear.Value = dt.Rows[dt.Rows.Count - 1][0].ToString();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            }</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a6b2f11620ea02063050dfa8011d6a520">  645</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a6b2f11620ea02063050dfa8011d6a520">FillComboBoxMonth</a>()</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;            cbMonth.Items.Clear();</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            cbMonth.EmptyValueText = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;- {0} -&quot;</span>, TM_AllYear);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            cbMonth.DataItems.Clear();</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;            cbMonth.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;            <span class="keywordtype">string</span> month = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            CultureInfo culture = <span class="keyword">new</span> CultureInfo(CurrentUser.Language);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; 13; i++)</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                month = culture.DateTimeFormat.GetMonthName(i);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                cbMonth.Items.Add(i.ToString(), month);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;            <span class="keywordflow">if</span> (!V4IsPostBack)</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;            {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">if</span> (cbYear.Value.Length &gt; 0 &amp;&amp; cbYear.Value == DateTime.Today.Year.ToString())</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                {</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    <span class="keywordflow">if</span> (DateTime.Today.Month == 1)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                        cbMonth.Value = <span class="stringliteral">&quot;12&quot;</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        cbYear.Value = (DateTime.Today.Year - 1).ToString();</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    }</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        cbMonth.Value = (DateTime.Today.Month - 1).ToString();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00677"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a64fed8fe918a004915f6a2bc96df20dc">  677</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a64fed8fe918a004915f6a2bc96df20dc">FillComboBoxDogovor</a>()</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordtype">string</span> oldVal = cbDogovor.Value;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            cbDogovor.EmptyValueText = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;- {0} -&quot;</span>, TM_FDataEmptyDogovor);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            cbDogovor.Items.Clear();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            cbDogovor.DataItems.Clear();</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;            cbDogovor.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;            cbDogovor.KeyField = <span class="stringliteral">&quot;КодДоговора&quot;</span>;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            cbDogovor.ValueField = <span class="stringliteral">&quot;Договор&quot;</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            Dictionary&lt;string, object&gt; sqlParams = GetSQLParams(1);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;            DataTable dt = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#a245b5fdae800a3b39f739a4f19a7d380">SQL_ДоговораПоКоторымБылаТарификация</a>,</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                                             <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a652ea879553e47f9f54df4c27508d01e">DS_accounting_phone</a>, CommandType.Text, sqlParams);</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            cbDogovor.FillList = dt.AsEnumerable;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keywordflow">if</span> (V4IsPostBack)</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                EnumerableRowCollection&lt;DataRow&gt; result = from r in dt.AsEnumerable()</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                                                          where</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                                                              oldVal.Length == 0 ||</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                                                              (oldVal.Length &gt; 0 &amp;&amp;</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                                                               r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>) == <span class="keywordtype">int</span>.Parse(oldVal))</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                                          select r;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                DataView dv = result.AsDataView();</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                <span class="keywordflow">if</span> (dv.Count &gt; 0)</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                    <span class="keywordflow">if</span> (oldVal.Length &gt; 0)</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                        cbDogovor.Value = oldVal;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                cbDogovor.Refresh();</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;            }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a7fe149be1f4b76c80a77f818ad834ab9">  715</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a7fe149be1f4b76c80a77f818ad834ab9">FillComboBoxEmployee</a>()</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        {</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordtype">string</span> oldVal = cbEmployee.Value;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            cbEmployee.EmptyValueText = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;- {0} -&quot;</span>, TM_FDataEmptyEmployee);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            cbEmployee.Items.Clear();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            cbEmployee.DataItems.Clear();</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            cbEmployee.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            cbEmployee.KeyField = <span class="stringliteral">&quot;КодСотрудника&quot;</span>;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            cbEmployee.ValueField = <span class="stringliteral">&quot;Сотрудник&quot;</span>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            Dictionary&lt;string, object&gt; sqlParams = GetSQLParams(2);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            DataTable dt = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#ad9276723eb9d78dd49500012c0ce9a73">SQL_СотрудникиПоКоторымБылаТарификация</a>,</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                                             <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a652ea879553e47f9f54df4c27508d01e">DS_accounting_phone</a>, CommandType.Text, sqlParams);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            cbEmployee.FillList = dt.AsEnumerable;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="keywordflow">if</span> (V4IsPostBack)</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            {</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                EnumerableRowCollection&lt;DataRow&gt; result = from r in dt.AsEnumerable()</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                                                          where</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                                                              oldVal.Length == 0 ||</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                                                              (oldVal.Length &gt; 0 &amp;&amp;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                                               r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодСотрудника&quot;</span>) == <span class="keywordtype">int</span>.Parse(oldVal))</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                                          select r;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                DataView dv = result.AsDataView();</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">if</span> (dv.Count &gt; 0)</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                    <span class="keywordflow">if</span> (oldVal.Length &gt; 0)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                        cbEmployee.Value = oldVal;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                }</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                </div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                cbEmployee.Refresh();</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;              </div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a01da29a1eab07e18c839ad5837ebf723">  756</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a01da29a1eab07e18c839ad5837ebf723">FillComboBoxPhone</a>()</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordtype">string</span> oldVal = cbPhone.Value;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            cbPhone.EmptyValueText = <span class="keywordtype">string</span>.Format(<span class="stringliteral">&quot;- {0} -&quot;</span>, TM_FDataEmptyPhone);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            cbPhone.Items.Clear();</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            cbPhone.DataItems.Clear();</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            cbPhone.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            cbPhone.KeyField = <span class="stringliteral">&quot;Абонент&quot;</span>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            cbPhone.ValueField = <span class="stringliteral">&quot;Абонент&quot;</span>;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;            Dictionary&lt;string, object&gt; sqlParams = GetSQLParams(3);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            DataTable dt = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#acf7051a1fa10bf803a426535769ec972">SQL_ТелефоныПоКоторымБылаТарификация</a>,</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                                             <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a652ea879553e47f9f54df4c27508d01e">DS_accounting_phone</a>, CommandType.Text, sqlParams);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            cbPhone.FillList = dt.AsEnumerable;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            <span class="keywordflow">if</span> (V4IsPostBack)</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                EnumerableRowCollection&lt;DataRow&gt; result = from r in dt.AsEnumerable()</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                                          where</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                                                              oldVal.Length == 0 ||</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                                                              (oldVal.Length &gt; 0 &amp;&amp; r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Абонент&quot;</span>) == oldVal)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                                                          select r;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                DataView dv = result.AsDataView();</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                <span class="keywordflow">if</span> (dv.Count &gt; 0)</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <span class="keywordflow">if</span> (oldVal.Length &gt; 0)</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        cbPhone.Value = oldVal;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                    <span class="comment">//else if (dv.Count == 1)</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                    <span class="comment">//    cbPhone.Value = dv[0][&quot;Абонент&quot;].ToString();</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                <span class="comment">//else</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                <span class="comment">//{</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                <span class="comment">//    if (dt.Rows.Count == 1)</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                <span class="comment">//        cbPhone.Value = dt.Rows[0][&quot;Абонент&quot;].ToString();</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                <span class="comment">//}</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                cbPhone.Refresh();</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        }</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="preprocessor">        #region Filter</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a18596d7407c891260bedd510c41a84f5">  804</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a18596d7407c891260bedd510c41a84f5">FilterApply</a>()</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        {</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            Dictionary&lt;string, object&gt; sqlParams = GetSQLParams(-1);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            DataTable dt = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#a1d180e5083aefa940dfffabeeda496b7">SQL_ТарификацияИтоги</a>, <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a652ea879553e47f9f54df4c27508d01e">DS_accounting_phone</a>,</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                                             CommandType.Text, sqlParams);</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            <span class="keywordflow">if</span> (dt.Rows.Count == 0)</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                CurrentLevel = <span class="stringliteral">&quot;1&quot;</span>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                JS.Write(</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                    <span class="stringliteral">&quot;var objDR = document.getElementById(&#39;divResult&#39;); currentLevel={0}; if (objDR) objDR.innerHTML=&#39;&#39;;&quot;</span>,</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                    CurrentLevel);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                JS.Write(<span class="stringliteral">&quot;var objLV = document.getElementById(&#39;divLevel&#39;); if (objLV) objLV.style.display=&#39;none&#39;;&quot;</span>);</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                JS.Write(<span class="stringliteral">&quot;var objLG = document.getElementById(&#39;divLegenda&#39;); if (objLG) objLG.style.display=&#39;none&#39;;&quot;</span>);</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                JS.Write(<span class="stringliteral">&quot;var objEmpty = document.getElementById(&#39;divEmpty&#39;); if (objEmpty) objEmpty.style.display=&#39;block&#39;;&quot;</span>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                RestoreCursor();</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objLV = document.getElementById(&#39;divLevel&#39;); if (objLV) objLV.style.display=&#39;block&#39;;&quot;</span>);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objLG = document.getElementById(&#39;divLegenda&#39;); if (objLG) objLG.style.display=&#39;block&#39;;&quot;</span>);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objEmpty = document.getElementById(&#39;divEmpty&#39;); if (objEmpty) objEmpty.style.display=&#39;none&#39;;&quot;</span>);</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            RenderTableResult(dt);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            RestoreCursor();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a43c4f933ff2f42f3b3dfc64dc727abb2">  832</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a43c4f933ff2f42f3b3dfc64dc727abb2">FilterClear</a>()</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            chOpenMonth.Value = <span class="stringliteral">&quot;0&quot;</span>;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            DisplayRowsData(chOpenMonth.Value);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;            </div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;            <span class="keywordflow">if</span> (cbYear.Contains(DateTime.Today.Year.ToString()))</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                cbYear.Value = DateTime.Today.Year.ToString();</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                 <span class="keywordflow">if</span> (cbYear.Items.Count &gt; 1)</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                 {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                     var lastYear = cbYear.Items.Values.Last();</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                     <span class="keywordflow">if</span> (lastYear != null)</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                         cbYear.Value = lastYear.ToString();</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                 }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;            }</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            cbMonth.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;            cbDogovor.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            cbEmployee.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;            cbPhone.Value = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <span class="keywordflow">if</span> (cbYear.Value.Length &gt; 0 &amp;&amp; cbYear.Value == DateTime.Today.Year.ToString())</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;            {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <span class="keywordflow">if</span> (DateTime.Today.Month == 1)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                {</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                    cbMonth.Value = <span class="stringliteral">&quot;12&quot;</span>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                    cbYear.Value = (DateTime.Today.Year - 1).ToString();</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                    cbMonth.Value = (DateTime.Today.Month - 1).ToString();</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            FillComboBoxDogovor();</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            FillComboBoxEmployee();</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            FillComboBoxPhone();</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            ResultClear();</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        }</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2f3a8a7c598bd7f9cab62205ea0cda3e">  876</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2f3a8a7c598bd7f9cab62205ea0cda3e">ResultClear</a>()</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        {</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objLV = document.getElementById(&#39;divLevel&#39;); if (objLV) objLV.style.display=&#39;none&#39;;&quot;</span>);</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objDR = document.getElementById(&#39;divResult&#39;); if (objDR) objDR.innerHTML=&#39;&#39;;&quot;</span>);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objLG = document.getElementById(&#39;divLegenda&#39;); if (objLG) objLG.style.display=&#39;none&#39;;&quot;</span>);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objEmpty = document.getElementById(&#39;divEmpty&#39;); if (objEmpty) objEmpty.style.display=&#39;none&#39;;&quot;</span>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;            RestoreCursor();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0a5c9f40b2096278be378420a2e089fa">  890</a></span>&#160;        <span class="keyword">private</span> Dictionary&lt;string, object&gt; <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0a5c9f40b2096278be378420a2e089fa">GetSQLParams</a>(<span class="keywordtype">int</span> inx)</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        {</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            var sqlParams = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            <span class="keywordtype">int</span>? year = null;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;            <span class="keywordtype">int</span>? month = null;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;            <span class="keywordtype">int</span>? dogovor = null;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;            <span class="keywordtype">int</span>? employee = null;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="keywordtype">int</span> y;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="keywordflow">if</span> (inx != 0) sqlParams.Add(<span class="stringliteral">&quot;@OpenMonth&quot;</span>, chOpenMonth.Value.Equals(<span class="stringliteral">&quot;1&quot;</span>) ? 1 : 0);</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            <span class="keywordflow">if</span> (inx != 0)</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            {</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                <span class="keywordflow">if</span> (cbYear.Value.Length == 0)</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                    sqlParams.Add(<span class="stringliteral">&quot;@Год&quot;</span>, year);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!Int32.TryParse(cbYear.Value, out y))</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    sqlParams.Add(<span class="stringliteral">&quot;@Год&quot;</span>, -1);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    sqlParams.Add(<span class="stringliteral">&quot;@Год&quot;</span>, <span class="keywordtype">int</span>.Parse(cbYear.Value));</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;            }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="keywordflow">if</span> (inx != 0) sqlParams.Add(<span class="stringliteral">&quot;@Месяц&quot;</span>, cbMonth.Value.Length == 0 ? month : <span class="keywordtype">int</span>.Parse(cbMonth.Value));</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="keywordflow">if</span> (inx != 1)</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                sqlParams.Add(<span class="stringliteral">&quot;@КодДоговора&quot;</span>, cbDogovor.Value.Length == 0 ? dogovor : <span class="keywordtype">int</span>.Parse(cbDogovor.Value));</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="keywordflow">if</span> (inx != 2)</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                sqlParams.Add(<span class="stringliteral">&quot;@КодСотрудника&quot;</span>, cbEmployee.Value.Length == 0 ? employee : <span class="keywordtype">int</span>.Parse(cbEmployee.Value));</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <span class="keywordflow">if</span> (inx != 3) sqlParams.Add(<span class="stringliteral">&quot;@Абонент&quot;</span>, cbPhone.Value);</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">return</span> sqlParams;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="preprocessor">        #region Render</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00932"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa16fd0a2291b1cb6e3f16e28c19207e1">  932</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa16fd0a2291b1cb6e3f16e28c19207e1">RenderTableResult</a>(DataTable dt)</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;            var sb = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            var sbBuff = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            var dtNDS = <span class="keyword">new</span> DataTable();</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            dtNDS.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;КодВалюты&quot;</span>, typeof (<span class="keywordtype">int</span>)));</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            dtNDS.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;КодДоговора&quot;</span>, typeof (<span class="keywordtype">int</span>)));</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            dtNDS.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;НДС&quot;</span>, typeof (decimal)));</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            dtNDS.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;НДССотрудника&quot;</span>, typeof (decimal)));</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            sbBuff.Append(<span class="stringliteral">@&quot;&lt;table&gt;&quot;</span>);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            RenderTableHeader(sbBuff);</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="keywordflow">if</span> (cbMonth.Value.Length &gt; 0 || chOpenMonth.Value.Equals(<span class="stringliteral">&quot;1&quot;</span>))</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                RenderTableItemsLevelFirst(dt, dtNDS, sb);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                RenderTableItemsAllMonthsLevelFirst(dt, dtNDS, sb);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                </div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            RenderTableHeaderItogo(dt, dtNDS, sbBuff);</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            sbBuff.Append(sb.ToString());</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            sbBuff.Append(<span class="stringliteral">&quot;&lt;/table&gt;&quot;</span>);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            RefreshTableResult(sbBuff);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00965"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a53bcb2e49ccca3155f35b584144b29c0">  965</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a53bcb2e49ccca3155f35b584144b29c0">RenderTableHeader</a>(StringBuilder sb)</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        {</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            sb.Append(<span class="stringliteral">&quot;&lt;tr class=&#39;gridHeader&#39;&gt;&quot;</span>);</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;            sb.AppendFormat(<span class="stringliteral">&quot;&lt;td colspan=&#39;5&#39;&gt;{0}&lt;/td&gt;&quot;</span>, (cbMonth.Value.Length &gt; 0 || chOpenMonth.Value.Equals(<span class="stringliteral">&quot;1&quot;</span>))? HttpUtility.HtmlEncode(TM_FDogovor):HttpUtility.HtmlEncode(TM_FMonth));</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            sb.AppendFormat(<span class="stringliteral">&quot;&lt;td&gt;{0}&lt;/td&gt;&quot;</span>, HttpUtility.HtmlEncode(TM_TblColumn2));</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            sb.AppendFormat(<span class="stringliteral">&quot;&lt;td&gt;{0}&lt;/td&gt;&quot;</span>, HttpUtility.HtmlEncode(TM_TblColumn3));</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            sb.AppendFormat(<span class="stringliteral">&quot;&lt;td&gt;{0}&lt;br&gt;{1}&lt;/td&gt;&quot;</span>, HttpUtility.HtmlEncode(TM_TblColumn4_0), HttpUtility.HtmlEncode(TM_TblColumn4_1));</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a08df770d308d6f89bb3de1a2e0763d09">  983</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a08df770d308d6f89bb3de1a2e0763d09">RenderTableHeaderItogo</a>(DataTable dt, DataTable dtNDS, StringBuilder sb)</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                          group r by <span class="keyword">new</span> {КодВалюты = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>)}</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                          into groupDogovor</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                          orderby groupDogovor.Key.КодВалюты</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                          select <span class="keyword">new</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                                     {</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                         groupDogovor.Key.КодВалюты,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                         Секунд = groupDogovor.Sum(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                         Сумма = groupDogovor.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                                         СуммаСотрудника = groupDogovor.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                                     };</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            var resultsNDS = from r in dtNDS.AsEnumerable()</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                             group r by <span class="keyword">new</span> {КодВалюты = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>)}</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                             into groupCurrency</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                             orderby groupCurrency.Key.КодВалюты</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                             select <span class="keyword">new</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                                        {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                                            groupCurrency.Key.КодВалюты,</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                                            НДС = groupCurrency.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;НДС&quot;</span>)),</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                                            НДССотрудника = groupCurrency.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;НДССотрудника&quot;</span>))</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                                        };</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            <span class="keywordtype">string</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <span class="keywordflow">foreach</span> (var d <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                DataRow currencyRow = (from m in _currencies.AsEnumerable()</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                                       where m.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>) == d.КодВалюты</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                                       select m).FirstOrDefault();</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                <span class="keywordflow">if</span> (currencyRow != null) currency = currencyRow[<span class="stringliteral">&quot;Валюта&quot;</span>].ToString();</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                <span class="keywordflow">else</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                sum = d.Сумма;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                sumE = d.СуммаСотрудника;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                <span class="keywordflow">foreach</span> (var n <span class="keywordflow">in</span> resultsNDS)</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    <span class="keywordflow">if</span> (!d.КодВалюты.Equals(n.КодВалюты)) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    sum += n.НДС;</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                    sumE += n.НДССотрудника;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;tr class=&#39;gridHeader&#39;&gt;&quot;</span>);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;td colspan=&#39;5&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(d.Секунд));</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}{1}&lt;/td&gt;&quot;</span>, sum.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency);</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}{1}&lt;/td&gt;&quot;</span>, sumE.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency);</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            }</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div><div class="line"><a name="l01048"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2ec668dc7a8acdd6fa5c354c3341365c"> 1048</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2ec668dc7a8acdd6fa5c354c3341365c">SumTDStyleSet</a>(byte? НДСНаСумму, byte? НДСВТарификации, ref <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> ndsCalc)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <span class="comment">//Нет условий договора, не известно как считать НДС</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="keywordflow">if</span> (НДСНаСумму == null || НДСВТарификации == null)</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            {</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            }</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;            <span class="keywordflow">if</span> (НДСВТарификации != null &amp;&amp; НДСВТарификации.Value.Equals(1))</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            {</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.NotRequired;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;            <span class="keywordflow">if</span> (НДСНаСумму != null &amp;&amp; НДСНаСумму.Value.Equals(1))</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnTotalSumOfContract;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            <span class="keywordflow">if</span> (НДСНаСумму != null &amp;&amp; НДСНаСумму.Value.Equals(0) &amp;&amp; НДСВТарификации != null &amp;&amp;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                НДСВТарификации.Value.Equals(0))</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            {</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown;</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        }</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab093ad5590dd62245b475a5e4af321ae"> 1084</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab093ad5590dd62245b475a5e4af321ae">RenderTableItemsLevelFirst</a>(DataTable dt, DataTable dtNDS, StringBuilder sb)</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                          group r by <span class="keyword">new</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                                         {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                                             КодДоговора = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>),</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                                             КодВалюты = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>),</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                                             Договор = r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Договор&quot;</span>),</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                                             ОкруглениеСуммы = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;ОкруглениеСуммы&quot;</span>),</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                                             СтавкаНДС = r.Field&lt;decimal?&gt;(<span class="stringliteral">&quot;СтавкаНДС&quot;</span>),</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                                             НДСВТарификации = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;НДСВТарификации&quot;</span>),</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                             НДСНаСумму = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;НДСНаСумму&quot;</span>)</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                         }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                          into groupDogovor</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                          orderby groupDogovor.Key.Договор</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                          select <span class="keyword">new</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                                     {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                                         groupDogovor.Key.КодДоговора,</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;                                         groupDogovor.Key.КодВалюты,</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                                         groupDogovor.Key.Договор,</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                                         groupDogovor.Key.ОкруглениеСуммы,</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                                         groupDogovor.Key.СтавкаНДС,</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                                         groupDogovor.Key.НДСВТарификации,</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                         groupDogovor.Key.НДСНаСумму,</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                                         Секунд = groupDogovor.Sum(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                                         Сумма = groupDogovor.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                                         СуммаСотрудника = groupDogovor.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                                     };</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            <span class="keywordtype">string</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            <span class="keywordtype">string</span> color = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;            <span class="keywordtype">string</span> title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;            <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;            StringBuilder sbNextLevel = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            DataRow rowNDS;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;            </div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            <span class="keywordflow">foreach</span> (var d <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                DataRow currencyRow = (from m in _currencies.AsEnumerable()</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                                       where m.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>) == d.КодВалюты</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                                       select m).FirstOrDefault();</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                <span class="keywordflow">if</span> (currencyRow != null) currency = currencyRow[<span class="stringliteral">&quot;Валюта&quot;</span>].ToString();</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <span class="keywordflow">else</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                SumTDStyleSet(d.НДСНаСумму, d.НДСВТарификации, ref ndsCalc);</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                color = <span class="stringliteral">&quot;background:{0};&quot;</span>;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                title = <span class="stringliteral">&quot;title=&#39;{0}&#39;&quot;</span>;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                RenderTableItemsLevelTwo(dt, d.КодДоговора, d.Договор, currency, ndsCalc, d.СтавкаНДС,</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                                         d.НДСВТарификации, d.ОкруглениеСуммы,</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                         <span class="stringliteral">&quot;tr1_&quot;</span> + d.КодДоговора, sbNextLevel, ref sum, ref sumE);</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                <span class="keywordflow">if</span> (ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnTotalSumOfContract))</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                {</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                    sum = d.Сумма*(1 + d.СтавкаНДС.Value);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    sumE = d.СуммаСотрудника*(1 + d.СтавкаНДС.Value);</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                }</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall))</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                {</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                    sum = d.Сумма;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                    sumE = d.СуммаСотрудника;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                }</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                </div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="keywordflow">if</span> (sum &gt; d.Сумма || sumE &gt; d.СуммаСотрудника)</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                {</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                    rowNDS = dtNDS.NewRow();</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                    rowNDS[<span class="stringliteral">&quot;КодВалюты&quot;</span>] = d.КодВалюты;</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                    rowNDS[<span class="stringliteral">&quot;КодДоговора&quot;</span>] = d.КодДоговора;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                    rowNDS[<span class="stringliteral">&quot;НДС&quot;</span>] = sum - d.Сумма;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                    rowNDS[<span class="stringliteral">&quot;НДССотрудника&quot;</span>] = sumE - d.СуммаСотрудника;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                    dtNDS.Rows.Add(rowNDS);</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                }</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                <span class="keywordflow">if</span> (!(ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown)))</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                {</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorWhite);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleWhite);</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                }</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorOrange);</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleOrange);</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                }</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;tr class=&quot;&quot;level&quot;&quot; level=1 id=&quot;&quot;tr1_{0}&quot;&quot;&gt;&quot;</span>, d.КодДоговора);</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;{0}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                                <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                                    <span class="stringliteral">&quot;&lt;img class=\&quot;levelImg btn\&quot; onclick=\&quot;displayLevelItem(&#39;tr1_{0}&#39;);\&quot; src=&#39;/styles/plus.gif&#39;&gt;&quot;</span>,</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                                    d.КодДоговора));</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td colspan=4 noWrap&gt;{0}&lt;/td&gt;&quot;</span>, d.Договор);</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(d.Секунд));</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                                sum.ToString(<span class="stringliteral">&quot;N2&quot;</span>),</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                                currency,</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                                color,</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                title);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                                sumE.ToString(<span class="stringliteral">&quot;N2&quot;</span>),</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                                currency,</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                                color,</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                                title);</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                sb.Append(sbNextLevel.ToString());</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                sbNextLevel.Remove(0, sbNextLevel.Length);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                sum = 0M;</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                sumE = 0M;</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                color = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;            }</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        }</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;       </div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01219"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a163424cfe875cf2ec2a1058f2d5f75d8"> 1219</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a163424cfe875cf2ec2a1058f2d5f75d8">RenderTableItemsLevelTwo</a>(DataTable dt, <span class="keywordtype">int</span> d, <span class="keywordtype">string</span> dText, <span class="keywordtype">string</span> currency, <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> ndsCalc,</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                                               decimal? ndsStavka, <span class="keywordtype">int</span>? ndsIn, <span class="keywordtype">int</span>? scale,</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                                               <span class="keywordtype">string</span> trId, StringBuilder sb, ref decimal calcSum, ref decimal calcSumE)</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        {</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                          where r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>) == d</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                          group r by</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;                              <span class="keyword">new</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                                  {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                      КодСотрудника = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодСотрудника&quot;</span>),</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                                      Сотрудник = r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Сотрудник&quot;</span>)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                                  }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                          into groupEmployee</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                          orderby groupEmployee.Key.Сотрудник</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                          select <span class="keyword">new</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                                     {</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                                         groupEmployee.Key.КодСотрудника,</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                                         groupEmployee.Key.Сотрудник,</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                                         Секунд = groupEmployee.Sum(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                                         Сумма = groupEmployee.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                                         СуммаСотрудника = groupEmployee.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                     };</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;            StringBuilder sbNextLevel = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;            <span class="keywordtype">string</span> color = <span class="stringliteral">&quot;background:{0};&quot;</span>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;            <span class="keywordtype">string</span> title = <span class="stringliteral">&quot;title=&#39;{0}&#39;&quot;</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            <span class="keywordflow">if</span> (ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown))</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            {</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                color = <span class="keywordtype">string</span>.Format(color, _colorOrange);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                title = <span class="keywordtype">string</span>.Format(title, TitleOrange);</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            }</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnTotalSumOfContract))</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                color = <span class="keywordtype">string</span>.Format(color, _colorWhite);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                title = <span class="keywordtype">string</span>.Format(title, TitleWhite);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            }</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;            {</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                color = <span class="keywordtype">string</span>.Format(color, _colorGray);</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                title = <span class="keywordtype">string</span>.Format(title, TitleGray);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            }</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;           </div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            <span class="keywordflow">foreach</span> (var e <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;            {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                RenderTableItemsLevelThree(dt, d, dText, e.КодСотрудника, currency, ndsCalc, ndsStavka, ndsIn, scale,</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;                                            color, title, <span class="stringliteral">&quot;tr2_&quot;</span> + d + <span class="stringliteral">&quot;_&quot;</span> + e.КодСотрудника, sbNextLevel, ref sum, ref sumE);</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;                </div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;                calcSum += sum;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                calcSumE += sumE;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;tr class=&quot;&quot;level&quot;&quot; level=2 id=&quot;&quot;tr2_{0}&quot;&quot; name=&quot;&quot;{1}&quot;&quot; style=&quot;&quot;display:none;&quot;&quot;&gt;&quot;</span>,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                                d + <span class="stringliteral">&quot;_&quot;</span> + e.КодСотрудника, trId);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;{0}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                                <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                                    <span class="stringliteral">&quot;&lt;img class=\&quot;levelImg  btn\&quot; onclick=\&quot;displayLevelItem(&#39;tr2_{0}&#39;);\&quot; src=&#39;/styles/plus.gif&#39;&gt;&quot;</span>,</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                                    d + <span class="stringliteral">&quot;_&quot;</span> + e.КодСотрудника));</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                </div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td colspan=3 {1}&gt;{0}&lt;/td&gt;&quot;</span>, e.Сотрудник, e.КодСотрудника &lt; 1? <span class="stringliteral">&quot;style=&#39;color:gray;&#39;&quot;</span>:<span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(e.Секунд));</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sum.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                                title);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sumE.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                                title);</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                sb.Append(sbNextLevel.ToString());</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;                sbNextLevel.Remove(0, sbNextLevel.Length);</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;                sum = 0M;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                sumE = 0M;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;            }</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        }</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160; </div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#accc999487da17f9dd687ac9f5405a844"> 1317</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#accc999487da17f9dd687ac9f5405a844">RenderTableItemsLevelThree</a>(DataTable dt, <span class="keywordtype">int</span> d, <span class="keywordtype">string</span> dText, <span class="keywordtype">int</span> p, <span class="keywordtype">string</span> currency,</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                                                 <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> ndsCalc, decimal? ndsStavka, <span class="keywordtype">int</span>? ndsIn, <span class="keywordtype">int</span>? scale,</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                                                 <span class="keywordtype">string</span> color, <span class="keywordtype">string</span> title, <span class="keywordtype">string</span> trId, StringBuilder sb, ref decimal calcSum, ref decimal calcSumE)</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;                          where r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>) == d &amp;&amp; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодСотрудника&quot;</span>) == p</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                          group r by</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                              <span class="keyword">new</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                                  {</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                                      Абонент = r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Абонент&quot;</span>),</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                                      Подчинённый = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Подчинённый&quot;</span>)</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;                                  }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                          into groupPhone</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;                          orderby groupPhone.Key.Абонент</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;                          select <span class="keyword">new</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                                     {</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;                                         groupPhone.Key.Абонент,</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;                                         groupPhone.Key.Подчинённый,</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                                         Секунд = groupPhone.Sum(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                         Сумма = groupPhone.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;                                         СуммаСотрудника = groupPhone.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;                                     };</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            <span class="keywordtype">string</span> pOpenMonth = chOpenMonth.Value.Length == 0 ? <span class="stringliteral">&quot;0&quot;</span> : chOpenMonth.Value;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordtype">string</span> pYear = pOpenMonth.Equals(<span class="stringliteral">&quot;1&quot;</span>) ? <span class="stringliteral">&quot;0&quot;</span> : cbYear.Value;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            <span class="keywordtype">string</span> pMonth = pOpenMonth.Equals(<span class="stringliteral">&quot;1&quot;</span>) ? <span class="stringliteral">&quot;0&quot;</span> : cbMonth.Value;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;            <span class="keywordtype">string</span> pDogovor = d.ToString();</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            <span class="keywordtype">string</span> pDogovorT = HttpUtility.HtmlEncode(dText);</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;            <span class="keywordtype">string</span> pUser = p.ToString();</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="keywordtype">string</span> pPhone = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <span class="keywordflow">foreach</span> (var ph <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                pPhone = ph.Абонент;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;                sum = ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall) ? ph.Сумма * (1 + ndsStavka.Value) : ph.Сумма;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;                sumE = ndsCalc.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall) ? ph.СуммаСотрудника * (1 + ndsStavka.Value) : ph.СуммаСотрудника;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;                calcSum += sum;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                calcSumE += sumE;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;tr class=&quot;&quot;level level3&quot;&quot; level=3  name=&quot;&quot;{0}&quot;&quot; style=&quot;&quot;display:none; &quot;&quot;&gt;&quot;</span>, trId);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px; text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, ph.Подчинённый.Equals(1) &amp;&amp; p &gt; 0</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                                                                          ? <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                                                                                              <span class="stringliteral">&quot;&lt;img class=\&quot;btn\&quot; src=&#39;/styles/detail.gif&#39; border=&#39;0&#39; onclick=\&quot;openDetailItem(&#39;{0}&#39;,&#39;{1}&#39;,&#39;{2}&#39;,&#39;{3}&#39;,&#39;{4}&#39;,&#39;{5}&#39;,&#39;{6}&#39;, &#39;0&#39;, &#39;{7}&#39;,&#39;{8}&#39;, &#39;{9}&#39;, &#39;{10}&#39;, &#39;{11}&#39;, &#39;{12}&#39;);\&quot; title=&#39;{13}&#39; /&gt;&quot;</span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                                                                                              , pOpenMonth</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                                                                                              , pYear</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;                                                                                              , pMonth</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;                                                                                              , pDogovor</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;                                                                                              ,</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                                                                                              HttpUtility.</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                                                                                                  JavaScriptStringEncode</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;                                                                                                  (pDogovorT)</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;                                                                                              , HttpUtility.</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;                                                                                                  JavaScriptStringEncode</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                                                                                                  (pUser)</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;                                                                                              , HttpUtility.</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;                                                                                                  JavaScriptStringEncode</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                                                                                                  (pPhone)</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;                                                                                              , <a class="code" href="../../d8/dd0/namespace_system.html">System</a>.Convert.ToInt32(ndsCalc) </div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;                                                                                              ,</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;                                                                                              !ndsStavka.HasValue</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;                                                                                                  ? 1</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;                                                                                                  : ndsStavka.Value</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;                                                                                              ,</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;                                                                                              !ndsIn.HasValue</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                                                                                  ? -1</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                                                                                                  : ndsIn.Value</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                                                                                              ,</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;                                                                                              !scale.HasValue</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;                                                                                                  ? 2</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                                                                                                  : scale.Value</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                                                                                              ,</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                                                                                              HttpUtility.</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                                                                                                  JavaScriptStringEncode</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                                                                                                  (color)</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                                                                                              ,</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                                                                                              HttpUtility.</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                                                                                                  JavaScriptStringEncode</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                                                                                                  (title)</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;                                                                                              , HttpUtility.</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                                                                                                  JavaScriptStringEncode</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                                                                                                  (TM_RptDetail))</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                                                                          : <span class="stringliteral">&quot;&amp;nbsp;&quot;</span>);</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;td colspan=2&gt;&lt;span {1}&gt;{0}&lt;/span&gt;&lt;/td&gt;&quot;</span>, ph.Абонент,</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                    ph.Подчинённый.Equals(1) &amp;&amp; p &gt; 0</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                        ? <span class="keywordtype">string</span>.Format(<span class="stringliteral">@&quot;data=&quot;&quot;{0}&quot;&quot; name=&quot;&quot;phone&quot;&quot;&quot;</span>, p + <span class="stringliteral">&quot;_&quot;</span> + ph.Абонент)</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                        : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(ph.Секунд));</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sum.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                                title);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sumE.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                                title);</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        }</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;     </div><div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa04cf2477e4ba75a916a23632e4d5c61"> 1426</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa04cf2477e4ba75a916a23632e4d5c61">RenderTableItemsAllMonthsLevelFirst</a>(DataTable dt, DataTable dtNDS, StringBuilder sb)</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        {</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;            var dtSum = <span class="keyword">new</span> DataTable(<span class="stringliteral">&quot;MonthSum&quot;</span>);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;            DataRow rowSum;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;            <span class="keywordtype">int</span> currencyId = 0;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            <span class="keywordtype">int</span> sec = 0;</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;            <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> ndsCalc = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown;</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;            StringBuilder sbNextLevel = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;            </div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;            var resultSum = from r in dt.AsEnumerable()</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                            group r by <span class="keyword">new</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                            {</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                                Месяц = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>),</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;                                КодВалюты = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>),</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                                ОкруглениеСуммы = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;ОкруглениеСуммы&quot;</span>),</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                                СтавкаНДС = r.Field&lt;decimal?&gt;(<span class="stringliteral">&quot;СтавкаНДС&quot;</span>),</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                                НДСВТарификации = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;НДСВТарификации&quot;</span>),</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                                НДСНаСумму = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;НДСНаСумму&quot;</span>)</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                            }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                                into groupMonth</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                                orderby groupMonth.Key.Месяц</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                                select <span class="keyword">new</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                                {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                                    groupMonth.Key.Месяц,</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                                    groupMonth.Key.КодВалюты,</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;                                    groupMonth.Key.ОкруглениеСуммы,</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                                    groupMonth.Key.СтавкаНДС,</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;                                    groupMonth.Key.НДСВТарификации,</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;                                    groupMonth.Key.НДСНаСумму,</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                                    Секунд = groupMonth.Sum(rs =&gt; rs.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                                    Сумма = groupMonth.Sum(rs =&gt; rs.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                                    СуммаСотрудника = groupMonth.Sum(rs =&gt; rs.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;                                };</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;            dtSum.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;Месяц&quot;</span>, typeof(<span class="keywordtype">int</span>)));</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;            dtSum.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;КодВалюты&quot;</span>, typeof(<span class="keywordtype">int</span>)));</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            dtSum.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;Секунд&quot;</span>, typeof(<span class="keywordtype">int</span>)));</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            dtSum.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;Сумма&quot;</span>, typeof(decimal)));</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;            dtSum.Columns.Add(<span class="keyword">new</span> DataColumn(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>, typeof(decimal)));</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;            <span class="keywordflow">foreach</span> (var rs <span class="keywordflow">in</span> resultSum)</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;            {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;                sec = rs.Секунд;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;                DataRow updateRow = dtSum.AsEnumerable().Where(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>) == rs.Месяц &amp;&amp; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>) == rs.КодВалюты).SingleOrDefault();</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                <span class="keywordflow">if</span> (updateRow == null)</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;                {</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;                    rowSum = dtSum.NewRow();</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;                    rowSum[<span class="stringliteral">&quot;Месяц&quot;</span>] = rs.Месяц;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;                    rowSum[<span class="stringliteral">&quot;КодВалюты&quot;</span>] = rs.КодВалюты;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                    rowSum[<span class="stringliteral">&quot;Секунд&quot;</span>] = sec;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;                    rowSum[<span class="stringliteral">&quot;Сумма&quot;</span>] = 0;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;                    rowSum[<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>] = 0;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                    dtSum.Rows.Add(rowSum);</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;                }</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;                    updateRow.SetField(<span class="stringliteral">&quot;Секунд&quot;</span>, (<span class="keywordtype">int</span>)updateRow[<span class="stringliteral">&quot;Секунд&quot;</span>] + sec);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;                   <span class="comment">// updateRow.SetField(&quot;Сумма&quot;, (decimal)updateRow[&quot;Сумма&quot;] + sum);</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;                   <span class="comment">// updateRow.SetField(&quot;СуммаСотрудника&quot;, (decimal)updateRow[&quot;СуммаСотрудника&quot;] + sumE);</span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;                }</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            }</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;            var months = from r in dtSum.AsEnumerable()</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;                         group r by <span class="keyword">new</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;                         {</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;                             Месяц = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>),</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;                         }</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;                             into groupMonth</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;                             orderby groupMonth.Key.Месяц</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;                             select <span class="keyword">new</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;                             {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                                 groupMonth.Key.Месяц,</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                             };</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;            CultureInfo culture = <span class="keyword">new</span> CultureInfo(CurrentUser.Language);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;            <span class="keywordflow">foreach</span> (var m <span class="keywordflow">in</span> months)</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;            {</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;                RenderTableItemsAllMonthsLevelTwo(dt, dtNDS, dtSum, m.Месяц, <span class="stringliteral">&quot;tr1_&quot;</span> + m.Месяц, sbNextLevel);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;tr class=&quot;&quot;level&quot;&quot; level=1 id=&quot;&quot;tr1_{0}&quot;&quot;&gt;&quot;</span>, m.Месяц);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;{0}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                                <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                                    <span class="stringliteral">&quot;&lt;img class=\&quot;levelImg btn\&quot; onclick=\&quot;displayLevelItem(&#39;tr1_{0}&#39;);\&quot; src=&#39;/styles/plus.gif&#39;&gt;&quot;</span>,</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                    m.Месяц));</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td colspan=4 noWrap&gt;{0}&lt;/td&gt;&quot;</span>, culture.DateTimeFormat.GetMonthName(m.Месяц));</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;                RenderItogoAllMonthsFirstLevel(m.Месяц, dtSum, sb);</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;                sb.Append(sbNextLevel.ToString());</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                sbNextLevel.Remove(0, sbNextLevel.Length);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;                sum = 0M;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                sumE = 0M;</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;            }</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;        }</div><div class="line"><a name="l01536"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae1ffd6ea317321c0fb593fda377a715a"> 1536</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae1ffd6ea317321c0fb593fda377a715a">RenderTableItemsAllMonthsLevelTwo</a>(DataTable dt, DataTable dtNDS, DataTable dtSum, <span class="keywordtype">int</span> m, <span class="keywordtype">string</span> trId, StringBuilder sb)</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;        {</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                          where r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>) == m</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;                          group r by <span class="keyword">new</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;                          {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                              Месяц = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>),</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                              КодДоговора = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>),</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                              КодВалюты = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>),</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                              Договор = r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Договор&quot;</span>),</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;                              ОкруглениеСуммы = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;ОкруглениеСуммы&quot;</span>),</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                              СтавкаНДС = r.Field&lt;decimal?&gt;(<span class="stringliteral">&quot;СтавкаНДС&quot;</span>),</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                              НДСВТарификации = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;НДСВТарификации&quot;</span>),</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                              НДСНаСумму = r.Field&lt;byte?&gt;(<span class="stringliteral">&quot;НДСНаСумму&quot;</span>)</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;                          }</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;                              into groupDogovor</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;                              orderby groupDogovor.Key.Договор</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                              select <span class="keyword">new</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                              {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;                                  groupDogovor.Key.Месяц,</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;                                  groupDogovor.Key.КодДоговора,</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;                                  groupDogovor.Key.КодВалюты,</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;                                  groupDogovor.Key.Договор,</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                                  groupDogovor.Key.ОкруглениеСуммы,</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;                                  groupDogovor.Key.СтавкаНДС,</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                  groupDogovor.Key.НДСВТарификации,</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                  groupDogovor.Key.НДСНаСумму,</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                  Секунд = groupDogovor.Sum(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                  Сумма = groupDogovor.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                                  СуммаСотрудника = groupDogovor.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                              };</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <span class="keywordtype">string</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <span class="keywordtype">string</span> color = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;            <span class="keywordtype">string</span> title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;           </div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;            <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> calcNds = <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;            StringBuilder sbNextLevel = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;            DataRow rowNDS;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            <span class="keywordflow">foreach</span> (var d <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            {</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;                DataRow currencyRow = (from cur in _currencies.AsEnumerable()</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                                       where cur.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>) == d.КодВалюты</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;                                       select cur).FirstOrDefault();</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                <span class="keywordflow">if</span> (currencyRow != null) currency = currencyRow[<span class="stringliteral">&quot;Валюта&quot;</span>].ToString();</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                <span class="keywordflow">else</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                SumTDStyleSet(d.НДСНаСумму, d.НДСВТарификации, ref calcNds);</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                color = <span class="stringliteral">&quot;background:{0};&quot;</span>;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                title = <span class="stringliteral">&quot;title=&#39;{0}&#39;&quot;</span>;</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                RenderTableItemsAllMonthsLevelThree(dt, d.КодДоговора, m, currency, calcNds, d.СтавкаНДС,</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                          d.НДСВТарификации, d.ОкруглениеСуммы, </div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                           <span class="stringliteral">&quot;tr2_&quot;</span> + m + <span class="stringliteral">&quot;_&quot;</span> + d.КодДоговора, sbNextLevel, ref sum, ref sumE);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <span class="keywordflow">if</span> (calcNds.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnTotalSumOfContract))</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                    sum = d.Сумма * (1 + d.СтавкаНДС.Value);</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                    sumE = d.СуммаСотрудника * (1 + d.СтавкаНДС.Value);</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                }</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!calcNds.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall))</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;                {</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                    sum = d.Сумма;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                    sumE = d.СуммаСотрудника;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                }</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                DataRow updateRow = dtSum.AsEnumerable().Where(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>) == d.Месяц &amp;&amp; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>) == d.КодВалюты).SingleOrDefault();</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                <span class="keywordflow">if</span> (updateRow != null)</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                {   </div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;                    updateRow.SetField(<span class="stringliteral">&quot;Сумма&quot;</span>, (decimal)updateRow[<span class="stringliteral">&quot;Сумма&quot;</span>] + sum);</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                    updateRow.SetField(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>, (decimal)updateRow[<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>] + sumE);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                }</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;              </div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                <span class="keywordflow">if</span> (sum &gt; d.Сумма || sumE &gt; d.СуммаСотрудника)</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                {</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                    rowNDS = dtNDS.NewRow();</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;                    rowNDS[<span class="stringliteral">&quot;КодВалюты&quot;</span>] = d.КодВалюты;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;                    rowNDS[<span class="stringliteral">&quot;КодДоговора&quot;</span>] = d.КодДоговора;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                    rowNDS[<span class="stringliteral">&quot;НДС&quot;</span>] = sum - d.Сумма;</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;                    rowNDS[<span class="stringliteral">&quot;НДССотрудника&quot;</span>] = sumE - d.СуммаСотрудника;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                    dtNDS.Rows.Add(rowNDS);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                }</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;                <span class="keywordflow">if</span> (!(calcNds.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown)))</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                {</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorWhite);</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleWhite);</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                }</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                {</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorOrange);</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleOrange);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                }</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;tr class=&quot;&quot;level&quot;&quot; level=2 id=&quot;&quot;tr2_{0}&quot;&quot; name=&quot;&quot;{1}&quot;&quot; style=&quot;&quot;display:none;&quot;&quot;&gt;&quot;</span>,</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;                m + <span class="stringliteral">&quot;_&quot;</span> + d.КодДоговора, trId);</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;{0}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                                <span class="keywordtype">string</span>.Format(</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                                    <span class="stringliteral">&quot;&lt;img class=\&quot;levelImg  btn\&quot; onclick=\&quot;displayLevelItem(&#39;tr2_{0}&#39;);\&quot; src=&#39;/styles/plus.gif&#39;&gt;&quot;</span>,</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                                    m + <span class="stringliteral">&quot;_&quot;</span> + d.КодДоговора));</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td colspan=3 {1}&gt;{0}&lt;/td&gt;&quot;</span>, d.Договор, d.КодДоговора &lt; 1 ? <span class="stringliteral">&quot;style=&#39;color:gray;&#39;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(d.Секунд));</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sum.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                                title);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sumE.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                                title);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                sb.Append(sbNextLevel.ToString());</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                sbNextLevel.Remove(0, sbNextLevel.Length);</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                color = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            }</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;       </div><div class="line"><a name="l01672"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a754a54a25496c2193084db8e320bf31a"> 1672</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a754a54a25496c2193084db8e320bf31a">RenderTableItemsAllMonthsLevelThree</a>(DataTable dt, <span class="keywordtype">int</span> d, <span class="keywordtype">int</span> m, <span class="keywordtype">string</span> currency, <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> calcNds,</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                                               decimal? ndsStavka, <span class="keywordtype">int</span>? ndsIn, <span class="keywordtype">int</span>? scale, </div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                                               <span class="keywordtype">string</span> trId, StringBuilder sb, ref decimal calcSum, ref decimal calcSumE)</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        {</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                          where r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>) == d &amp;&amp; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>) == m</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                          group r by</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                              <span class="keyword">new</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                              {</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;                                  КодСотрудника = r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодСотрудника&quot;</span>),</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                                  Сотрудник = r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Сотрудник&quot;</span>)</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                              }</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;                              into groupEmployee</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;                              orderby groupEmployee.Key.Сотрудник</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                              select <span class="keyword">new</span></div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                              {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                                  groupEmployee.Key.КодСотрудника,</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                                  groupEmployee.Key.Сотрудник,</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                                  Секунд = groupEmployee.Sum(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                                  Сумма = groupEmployee.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                                  СуммаСотрудника = groupEmployee.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                              };</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;            decimal sum = 0M;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;            decimal sumE = 0M;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;            <span class="keywordtype">string</span> color = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;            <span class="keywordtype">string</span> title = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;            <span class="keywordflow">foreach</span> (var u <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            {</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;                ItemsAllMonthsLevelFour(dt, d, m, u.КодСотрудника, calcNds, ndsStavka, ref sum, ref sumE);</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;                </div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                color = <span class="stringliteral">&quot;background:{0};&quot;</span>;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                title = <span class="stringliteral">&quot;title=&#39;{0}&#39;&quot;</span>;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                calcSum += sum;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                calcSumE += sumE;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                <span class="keywordflow">if</span> (calcNds.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.Unknown))</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;                {</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorOrange);</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleOrange);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;                }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!calcNds.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnTotalSumOfContract))</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;                {</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorWhite);</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleWhite);</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;                }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;                {</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;                    color = <span class="keywordtype">string</span>.Format(color, _colorGray);</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;                    title = <span class="keywordtype">string</span>.Format(title, TitleGray);</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;                }</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;               </div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;tr class=&quot;&quot;level level3&quot;&quot; level=3  name=&quot;&quot;{0}&quot;&quot; style=&quot;&quot;display:none; &quot;&quot;&gt;&quot;</span>, trId);</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px&#39;&gt;&amp;nbsp;&lt;/td&gt;&quot;</span>);</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;width:20px; text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <span class="stringliteral">&quot;&amp;nbsp;&quot;</span>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td colspan=2 {1}&gt;{0}&lt;/td&gt;&quot;</span>, u.Сотрудник, u.КодСотрудника &lt; 1 ? <span class="stringliteral">&quot;style=&#39;color:gray;&#39;&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;&#39;&gt;{0}&lt;/td&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(u.Секунд));</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sum.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;                                title);</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;td style=&#39;text-align:right;{2}&#39; {3}&gt;{0}{1}&lt;/td&gt;&quot;</span>, sumE.ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency, color,</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                                title);</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                sb.Append(<span class="stringliteral">&quot;&lt;/tr&gt;&quot;</span>);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                sum = 0M;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;                sumE = 0M;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            }</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        }</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2fedeb85b89503c349911a3b676c2193"> 1743</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2fedeb85b89503c349911a3b676c2193">ItemsAllMonthsLevelFour</a>(DataTable dt, <span class="keywordtype">int</span> d, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> p, <a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a> calcNDS, decimal? ndsStavka,</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;            ref decimal calcSum, ref decimal calcSumE)</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        {</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            var results = from r in dt.AsEnumerable()</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                          where r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодДоговора&quot;</span>) == d &amp;&amp; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>) == m &amp;&amp; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодСотрудника&quot;</span>) == p</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                group r by</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    <span class="keyword">new</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                        Абонент = r.Field&lt;<span class="keywordtype">string</span>&gt;(<span class="stringliteral">&quot;Абонент&quot;</span>),</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                    }</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                into groupPhone</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                orderby groupPhone.Key.Абонент</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                select <span class="keyword">new</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                {</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                    groupPhone.Key.Абонент,</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                    Сумма = groupPhone.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>)),</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                    СуммаСотрудника = groupPhone.Sum(r =&gt; r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>))</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                };</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">foreach</span> (var ph <span class="keywordflow">in</span> results)</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            {</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                calcSum += calcNDS.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall) ? ph.Сумма*(1 + ndsStavka.Value) : ph.Сумма;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                calcSumE += calcNDS.Equals(<a class="code" href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">СalculationNDS</a>.OnCostOfEachCall)</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                    ? ph.СуммаСотрудника*(1 + ndsStavka.Value)</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;                    : ph.СуммаСотрудника;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            }</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        }</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div><div class="line"><a name="l01778"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2710f8743af0138f40bdd903492dbd13"> 1778</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2710f8743af0138f40bdd903492dbd13">RenderItogoAllMonthsFirstLevel</a>(<span class="keywordtype">int</span> month, DataTable dtSum, StringBuilder sb)</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        {</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            StringBuilder sbSec = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            StringBuilder sbSum = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            StringBuilder sbSumE = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            IEnumerable&lt;DataRow&gt; rows = dtSum.AsEnumerable().Where(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Месяц&quot;</span>) == month).OrderBy(r =&gt; r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>));</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <span class="keywordtype">string</span> style = <span class="stringliteral">&quot;style=&#39;BORDER-bottom:1px solid #efefef;&#39;&quot;</span>;</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="keywordtype">string</span> styleAlign = <span class="stringliteral">&quot;style=&#39;text-align:right;&#39; class=&#39;gridHeader&#39;&quot;</span>;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="keywordtype">string</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <span class="keywordtype">int</span> inx = 1;</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            <span class="keywordtype">int</span> cnt = rows.Count();</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;            <span class="keywordflow">foreach</span> (DataRow r <span class="keywordflow">in</span> rows)</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            {</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                DataRow currencyRow = (from m in _currencies.AsEnumerable()</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                       where m.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>) == r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;КодВалюты&quot;</span>)</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                                       select m).FirstOrDefault();</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                <span class="keywordflow">if</span> (currencyRow != null) currency = currencyRow[<span class="stringliteral">&quot;Валюта&quot;</span>].ToString();</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                <span class="keywordflow">else</span> currency = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                sbSec.AppendFormat(<span class="stringliteral">&quot;&lt;div {1}&gt;{0}&lt;/div&gt;&quot;</span>, <a class="code" href="../../de/db9/namespace_convert.html">Convert</a>.Second2TimeFormat(r.Field&lt;<span class="keywordtype">int</span>&gt;(<span class="stringliteral">&quot;Секунд&quot;</span>)),</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                                    inx != cnt ? style : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                sbSum.AppendFormat(<span class="stringliteral">&quot;&lt;div {2}&gt;{0}{1}&lt;/div&gt;&quot;</span>, r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;Сумма&quot;</span>).ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency,</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                                    inx != cnt ? style : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                sbSumE.AppendFormat(<span class="stringliteral">&quot;&lt;div {2}&gt;{0}{1}&lt;/div&gt;&quot;</span>, r.Field&lt;decimal&gt;(<span class="stringliteral">&quot;СуммаСотрудника&quot;</span>).ToString(<span class="stringliteral">&quot;N2&quot;</span>), currency,</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                                    inx != cnt ? style : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                inx++;</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            }</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;            sb.AppendFormat(<span class="stringliteral">&quot;&lt;td {3}&gt;{0}&lt;/td&gt;&lt;td {3}&gt;{1}&lt;/td&gt;&lt;td {3}&gt;{2}&lt;/td&gt;&quot;</span>,</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                            sbSec.ToString(), sbSum.ToString(), sbSumE.ToString(), styleAlign);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;        }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        </div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        </div><div class="line"><a name="l01817"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aad127f87cefc93400377cbc0082aba36"> 1817</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aad127f87cefc93400377cbc0082aba36">RefreshTableResult</a>(StringBuilder sb)</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            JS.Write(<span class="stringliteral">&quot;var objDR = document.getElementById(&#39;divResult&#39;); if (objDR) objDR.innerHTML=&#39;{0}&#39;;&quot;</span>,</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                     HttpUtility.JavaScriptStringEncode(sb.ToString()));</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            JS.Write(<span class="stringliteral">&quot;displayLevel({0});&quot;</span>, CurrentLevel);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            JS.Write(<span class="stringliteral">&quot;createTooltip(&#39;phone&#39;);&quot;</span>);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            JS.Write(<span class="stringliteral">&quot;tooltipRegistry = {};&quot;</span>);</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        }</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"><a class="line" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#af2e399ab222b526bdc4b91ef400761e8"> 1831</a></span>&#160;        <span class="keyword">private</span> <span class="keywordtype">void</span> <a class="code" href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#af2e399ab222b526bdc4b91ef400761e8">RenderSim</a>(<span class="keywordtype">string</span> <span class="keywordtype">id</span>, <span class="keywordtype">string</span> data)</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        {</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <span class="keywordtype">string</span>[] args = data.Split(<span class="charliteral">&#39;_&#39;</span>);</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            Dictionary&lt;string, object&gt; sqlParams = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            DateTime startDate = <span class="keyword">new</span> DateTime(<span class="keywordtype">int</span>.Parse(cbYear.Value), <span class="keywordtype">int</span>.Parse(cbMonth.Value), 1);</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            DateTime endDate = <span class="keyword">new</span> DateTime(<span class="keywordtype">int</span>.Parse(cbYear.Value), <span class="keywordtype">int</span>.Parse(cbMonth.Value),</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                                    DateTime.DaysInMonth(<span class="keywordtype">int</span>.Parse(cbYear.Value), <span class="keywordtype">int</span>.Parse(cbMonth.Value)));</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            sqlParams.Add(<span class="stringliteral">&quot;@StartDate&quot;</span>, startDate);</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            sqlParams.Add(<span class="stringliteral">&quot;@EndDate&quot;</span>, endDate);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            sqlParams.Add(<span class="stringliteral">&quot;@CurrentMonth&quot;</span>, <span class="keywordtype">int</span>.Parse(chOpenMonth.Value));</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            sqlParams.Add(<span class="stringliteral">&quot;@КодСотрудника&quot;</span>, <span class="keywordtype">int</span>.Parse(args[0]));</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            sqlParams.Add(<span class="stringliteral">&quot;@НомерТелефона&quot;</span>, args[1]);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;            </div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;            DataTable dt = <a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">DBManager</a>.<a class="code" href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">GetData</a>(<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">SQL_Queries</a>.<a class="code" href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#afce1e819487157457f0d0cc7cdf4560e">SQL_ПолучениеИнформацииПоSIM</a>, <a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Config</a>.<a class="code" href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a8b9b5f18d8626a6bf3aa6c1c99344b5b">DS_user</a>,</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                                             CommandType.Text, sqlParams);</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            DateTime dateTo = DateTime.MinValue;</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            DateTime dateFrom = DateTime.MinValue;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            <span class="keywordtype">bool</span> render = <span class="keyword">true</span>;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;            <span class="keywordflow">if</span> (dt.Rows.Count == 0)</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;            {</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                sb.AppendFormat(<span class="stringliteral">&quot;&lt;font style=&#39;color:red;&#39;&gt;{0}&lt;/font&gt;&quot;</span>, TM_OutSimData);</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            }</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                <span class="comment">//sb.AppendFormat(@&quot;&lt;img src=&#39;/styles/sim.gif&#39; border=&#39;0&#39;&gt;&lt;u style=&quot;&quot;margin-bottom:5px;&quot;&quot;&gt;{0}&lt;/u&gt;:&lt;br&gt;&quot;, TM_SimInfo);</span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;                sb.AppendFormat(<span class="stringliteral">@&quot;&lt;img src=&#39;/styles/sim.gif&#39; border=&#39;0&#39;&gt;&quot;</span>);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dt.Rows.Count; i++)</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;                {</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                    <span class="keywordflow">if</span> (i &gt; 0)</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                    {</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                        sb.Append(<span class="stringliteral">&quot;&lt;br/&gt;&quot;</span>);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                        sb.Append(<span class="stringliteral">&quot;&lt;hr size=1/&gt;&quot;</span>);</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                    }</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                    dateFrom = dt.Rows[i][<span class="stringliteral">&quot;От&quot;</span>].Equals(<a class="code" href="../../d8/dd0/namespace_system.html">System</a>.DBNull.Value) ? dateTo : (DateTime)dt.Rows[i][<span class="stringliteral">&quot;От&quot;</span>];</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                    dateTo = dt.Rows[i][<span class="stringliteral">&quot;До&quot;</span>].Equals(<a class="code" href="../../d8/dd0/namespace_system.html">System</a>.DBNull.Value) ? dateTo : (DateTime) dt.Rows[i][<span class="stringliteral">&quot;До&quot;</span>];</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                    <span class="comment">//if (!dateFrom.Equals(DateTime.MinValue) &amp;&amp; dateFrom.Date &gt;= startDate)</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;                    sb.AppendFormat(<span class="stringliteral">&quot;{1}: {0};&quot;</span>, ((DateTime)dt.Rows[i][<span class="stringliteral">&quot;От&quot;</span>]).ToString(<span class="stringliteral">&quot;dd.MM.yyyy&quot;</span>), TM_Issued);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                    <span class="keywordflow">if</span> (!dateTo.Equals(DateTime.MinValue) &amp;&amp; dateTo.Date &lt;= endDate)</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;                        sb.AppendFormat(<span class="stringliteral">&quot;&lt;br&gt;{1}: {0}&quot;</span>, dateTo.ToString(<span class="stringliteral">&quot;dd.MM.yyyy&quot;</span>), TM_Withdrawn);</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                    </div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                    sb.AppendFormat(<span class="stringliteral">&quot;{0}&quot;</span>,</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                        dt.Rows[i][<span class="stringliteral">&quot;Примечания&quot;</span>].ToString().Length &gt; 0</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                            ? <span class="stringliteral">&quot;&lt;br&gt;&quot;</span> + dt.Rows[i][<span class="stringliteral">&quot;Примечания&quot;</span>] </div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                            : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                    render = dt.Rows[i][<span class="stringliteral">&quot;Примечания&quot;</span>].ToString().Length &gt; 0;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                    dateTo = DateTime.MinValue;</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                }</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            }</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;            <span class="comment">//if (!render) sb.Remove(0, sb.Length);</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;            JS.Write(<span class="stringliteral">&quot;setTooltipValue(&#39;{0}&#39;,&#39;{1}&#39;,&#39;{2}&#39;);&quot;</span>,</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                     HttpUtility.JavaScriptStringEncode(<span class="keywordtype">id</span>),</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                     HttpUtility.JavaScriptStringEncode(data),</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                     HttpUtility.JavaScriptStringEncode(sb.ToString()));</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        }</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="preprocessor">        #endregion</span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;       </div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        </div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;}</div><div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a850a3cc9e8a5bd9f5dfc2b958b8819da"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a850a3cc9e8a5bd9f5dfc2b958b8819da">Kesco.App.Web.TarifMobilPhone.DefaultPage._currencies</a></div><div class="ttdeci">DataTable _currencies</div><div class="ttdoc">Список валют </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00233">Default.aspx.cs:233</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager_html"><div class="ttname"><a href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html">Kesco.Lib.DALC.DBManager</a></div><div class="ttdoc">Объект управления подключениями и запросами к БД </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5f/_d_b_manager_8cs_source.html#l00016">DBManager.cs:16</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a4b48051f6f75d92da5d71f76d5482308"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4b48051f6f75d92da5d71f76d5482308">Kesco.App.Web.TarifMobilPhone.DefaultPage.YearChanged</a></div><div class="ttdeci">void YearChanged()</div><div class="ttdoc">Функция, которая вызывается в обработчике изменения значения списка с годами тарификации ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00493">Default.aspx.cs:493</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_af2e399ab222b526bdc4b91ef400761e8"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#af2e399ab222b526bdc4b91ef400761e8">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderSim</a></div><div class="ttdeci">void RenderSim(string id, string data)</div><div class="ttdoc">Получение и рендеринг информации о Sim-карте </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01831">Default.aspx.cs:1831</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_1_1_d_b_select_1_1_v4_html"><div class="ttname"><a href="../../dd/d4c/namespace_kesco_1_1_lib_1_1_web_1_1_d_b_select_1_1_v4.html">Kesco.Lib.Web.DBSelect.V4</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/de6/_d_b_s_attribute_format_type_8cs_source.html#l00011">DBSAttributeFormatType.cs:11</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a1667c07f5152cda40afa04d2a6c54e4a"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a1667c07f5152cda40afa04d2a6c54e4a">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillComboBoxYear</a></div><div class="ttdeci">void FillComboBoxYear()</div><div class="ttdoc">Процедура заполнения списка годов тарификации </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00622">Default.aspx.cs:622</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_html_a5f8a0ac26135bee880289fadf8eb9a0c"><div class="ttname"><a href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0c">Kesco.App.Web.TarifMobilPhone.СalculationNDS</a></div><div class="ttdeci">СalculationNDS</div><div class="ttdoc">Перечислитель статусов нотификации &lt;/summary </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00029">Default.aspx.cs:29</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a7fe149be1f4b76c80a77f818ad834ab9"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a7fe149be1f4b76c80a77f818ad834ab9">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillComboBoxEmployee</a></div><div class="ttdeci">void FillComboBoxEmployee()</div><div class="ttdoc">Процедура заполнения списка сотрудников, по которым была тарификация </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00715">Default.aspx.cs:715</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a2f3a8a7c598bd7f9cab62205ea0cda3e"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2f3a8a7c598bd7f9cab62205ea0cda3e">Kesco.App.Web.TarifMobilPhone.DefaultPage.ResultClear</a></div><div class="ttdeci">void ResultClear()</div><div class="ttdoc">Процедура очистки таблицы с данными результатов фильтрации </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00876">Default.aspx.cs:876</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a08df770d308d6f89bb3de1a2e0763d09"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a08df770d308d6f89bb3de1a2e0763d09">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableHeaderItogo</a></div><div class="ttdeci">void RenderTableHeaderItogo(DataTable dt, DataTable dtNDS, StringBuilder sb)</div><div class="ttdoc">Процедура, отвечающая за вывод итогов сумм по-валютно </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00983">Default.aspx.cs:983</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a18596d7407c891260bedd510c41a84f5"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a18596d7407c891260bedd510c41a84f5">Kesco.App.Web.TarifMobilPhone.DefaultPage.FilterApply</a></div><div class="ttdeci">void FilterApply()</div><div class="ttdoc">Процедура поиска данных, согласно устновленному фильтру </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00804">Default.aspx.cs:804</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_html_a5f8a0ac26135bee880289fadf8eb9a0ca88183b946cc5f0e8c96b2e66e1c74a7e"><div class="ttname"><a href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0ca88183b946cc5f0e8c96b2e66e1c74a7e">Kesco.App.Web.TarifMobilPhone.СalculationNDS.Unknown</a></div><div class="ttdoc">Не известно, т.к не условий договора </div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config_html"><div class="ttname"><a href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html">Kesco.Lib.Web.Settings.Config</a></div><div class="ttdoc">Класс получения настроек web-приложения </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/_config_8cs_source.html#l00011">Config.cs:11</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config_html_a52c863990629e8a79946dcdabacc9bfb"><div class="ttname"><a href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a52c863990629e8a79946dcdabacc9bfb">Kesco.Lib.Web.Settings.Config.DS_person</a></div><div class="ttdeci">static string DS_person</div><div class="ttdoc">Строка подключения к БД Справочники, использовать для получения информации по лицам ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/_config_8cs_source.html#l00091">Config.cs:91</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_aa04cf2477e4ba75a916a23632e4d5c61"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa04cf2477e4ba75a916a23632e4d5c61">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableItemsAllMonthsLevelFirst</a></div><div class="ttdeci">void RenderTableItemsAllMonthsLevelFirst(DataTable dt, DataTable dtNDS, StringBuilder sb)</div><div class="ttdoc">Процедура вывода первого уровня данных - группировка по месяцу </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01426">Default.aspx.cs:1426</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html">Kesco.App.Web.TarifMobilPhone.SQL_Queries</a></div><div class="ttdoc">Класс, содержащий описание sql-запросов и методы работы с данными </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00008">SQL_Queries.cs:8</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a54f0d44891c1e5e6cf1f8ae448f99ce0"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a54f0d44891c1e5e6cf1f8ae448f99ce0">Kesco.App.Web.TarifMobilPhone.DefaultPage.MonthChanged</a></div><div class="ttdeci">void MonthChanged()</div><div class="ttdoc">Функция, которая вызывается в обработчике изменения значения списка с месяцами </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00515">Default.aspx.cs:515</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a88704bff3937ca059d8ecef0a4823e90"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a88704bff3937ca059d8ecef0a4823e90">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillCurrencies</a></div><div class="ttdeci">void FillCurrencies()</div><div class="ttdoc">Процедура получения списка валют </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00604">Default.aspx.cs:604</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_localization_html"><div class="ttname"><a href="../../d9/d95/namespace_kesco_1_1_lib_1_1_localization.html">Kesco.Lib.Localization</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/_accessor_8cs_source.html#l00003">Accessor.cs:3</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a2710f8743af0138f40bdd903492dbd13"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2710f8743af0138f40bdd903492dbd13">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderItogoAllMonthsFirstLevel</a></div><div class="ttdeci">void RenderItogoAllMonthsFirstLevel(int month, DataTable dtSum, StringBuilder sb)</div><div class="ttdoc">Отображение списка сумм по-валютно в зависимости от указанного месяца </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01778">Default.aspx.cs:1778</a></div></div>
<div class="ttc" id="namespace_system_html"><div class="ttname"><a href="../../d8/dd0/namespace_system.html">System</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_1_1_settings_html"><div class="ttname"><a href="../../d0/d04/namespace_kesco_1_1_lib_1_1_web_1_1_settings.html">Kesco.Lib.Web.Settings</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/_config_8cs_source.html#l00006">Config.cs:6</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ac7e28fe7dfeb0d60a7daf9f0210afff2"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac7e28fe7dfeb0d60a7daf9f0210afff2">Kesco.App.Web.TarifMobilPhone.DefaultPage.Page_Load</a></div><div class="ttdeci">void Page_Load(object sender, EventArgs e)</div><div class="ttdoc">Обработчик события загрузки страницы </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00258">Default.aspx.cs:258</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_localization_1_1_resources_html"><div class="ttname"><a href="../../d6/d0f/class_kesco_1_1_lib_1_1_localization_1_1_resources.html">Kesco.Lib.Localization.Resources</a></div><div class="ttdoc">Класс содержащий статический объект менеджер ресурсов </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/_accessor_8cs_source.html#l00008">Accessor.cs:8</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_html"><div class="ttname"><a href="../../dd/d63/namespace_kesco_1_1_lib.html">Kesco.Lib</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_convert_extention_1_1_convert_html"><div class="ttname"><a href="../../d3/d98/class_kesco_1_1_lib_1_1_convert_extention_1_1_convert.html">Kesco.Lib.ConvertExtention.Convert</a></div><div class="ttdoc">Класс реализующий методы конвертации и приведения </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/_convert_8cs_source.html#l00014">Convert.cs:14</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args_html_a855235f39f09b9e51684225d52e32e99"><div class="ttname"><a href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html#a855235f39f09b9e51684225d52e32e99">Kesco.Lib.Web.Controls.V4.ProperyChangedEventArgs.NewValue</a></div><div class="ttdeci">string NewValue</div><div class="ttdoc">Новое значение </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/_control_8cs_source.html#l01140">Control.cs:1140</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_afce1e819487157457f0d0cc7cdf4560e"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#afce1e819487157457f0d0cc7cdf4560e">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_ПолучениеИнформацииПоSIM</a></div><div class="ttdeci">const string SQL_ПолучениеИнформацииПоSIM</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00212">SQL_Queries.cs:212</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_1_1_controls_html"><div class="ttname"><a href="../../df/d82/namespace_kesco_1_1_lib_1_1_web_1_1_controls.html">Kesco.Lib.Web.Controls</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a01da29a1eab07e18c839ad5837ebf723"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a01da29a1eab07e18c839ad5837ebf723">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillComboBoxPhone</a></div><div class="ttdeci">void FillComboBoxPhone()</div><div class="ttdoc">Процедура заполнения список телефонных номеров, по которым была тарифакация </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00756">Default.aspx.cs:756</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ab78579fcdd687687d7af020f70733c36"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab78579fcdd687687d7af020f70733c36">Kesco.App.Web.TarifMobilPhone.DefaultPage.Event_cbMonth_Changed</a></div><div class="ttdeci">void Event_cbMonth_Changed(object sender, ProperyChangedEventArgs e)</div><div class="ttdoc">Обработчик изменения значения в списке с месяцами MonthChanged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00508">Default.aspx.cs:508</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a898a788ceb9f8437717b660e55cf21cc"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a898a788ceb9f8437717b660e55cf21cc">Kesco.App.Web.TarifMobilPhone.DefaultPage.DogovorChanged</a></div><div class="ttdeci">void DogovorChanged()</div><div class="ttdoc">Функция, которая вызывается в обработчике изменения значения списка с договорами </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00538">Default.aspx.cs:538</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_ad9276723eb9d78dd49500012c0ce9a73"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#ad9276723eb9d78dd49500012c0ce9a73">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_СотрудникиПоКоторымБылаТарификация</a></div><div class="ttdeci">const string SQL_СотрудникиПоКоторымБылаТарификация</div><div class="ttdoc">Список сотрудников, по которым когда-либо была тарификация </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00080">SQL_Queries.cs:80</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_html_a5f8a0ac26135bee880289fadf8eb9a0cac5cca2f81c093b7d3e31d546c8e98fdd"><div class="ttname"><a href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0cac5cca2f81c093b7d3e31d546c8e98fdd">Kesco.App.Web.TarifMobilPhone.СalculationNDS.OnTotalSumOfContract</a></div><div class="ttdoc">НДС должен насчитываться на общую сумму по договору </div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a167c647cb3dee0f6d6524c440da86f18"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a167c647cb3dee0f6d6524c440da86f18">Kesco.App.Web.TarifMobilPhone.DefaultPage.Event_cbYear_Changed</a></div><div class="ttdeci">void Event_cbYear_Changed(object sender, ProperyChangedEventArgs e)</div><div class="ttdoc">Обработчик изменения значения в списке с годами тарификации YearChanged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00486">Default.aspx.cs:486</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_a245b5fdae800a3b39f739a4f19a7d380"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#a245b5fdae800a3b39f739a4f19a7d380">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_ДоговораПоКоторымБылаТарификация</a></div><div class="ttdeci">const string SQL_ДоговораПоКоторымБылаТарификация</div><div class="ttdoc">Договора сотовой связи, по которым существует тарификация </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00061">SQL_Queries.cs:61</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a64fed8fe918a004915f6a2bc96df20dc"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a64fed8fe918a004915f6a2bc96df20dc">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillComboBoxDogovor</a></div><div class="ttdeci">void FillComboBoxDogovor()</div><div class="ttdoc">Процедура заполнения списка договоров связи </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00677">Default.aspx.cs:677</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a5f49b77ba6cc768ce9b00407456d3a77"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a5f49b77ba6cc768ce9b00407456d3a77">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillComboBox</a></div><div class="ttdeci">void FillComboBox()</div><div class="ttdoc">Общая процедура для вызова процедур заполнения списка годов и месяцев </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00613">Default.aspx.cs:613</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a4d9b6d867bb6b1ebf9ac334e9cb0ad85"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4d9b6d867bb6b1ebf9ac334e9cb0ad85">Kesco.App.Web.TarifMobilPhone.DefaultPage.Event_cbPhone_Changed</a></div><div class="ttdeci">void Event_cbPhone_Changed(object sender, ProperyChangedEventArgs e)</div><div class="ttdoc">Обработчик изменения значения в списке с телефонами </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00572">Default.aspx.cs:572</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config_html_ab8bfb1348fb4ecd4ea204708861e9134"><div class="ttname"><a href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#ab8bfb1348fb4ecd4ea204708861e9134">Kesco.Lib.Web.Settings.Config.uri_Report</a></div><div class="ttdeci">static string uri_Report</div><div class="ttdoc">Адрес сервера отчетов Reporting Service </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/_config_8cs_source.html#l00041">Config.cs:41</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a8cbd9d42e72c842be7905538b8512b58"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a8cbd9d42e72c842be7905538b8512b58">Kesco.App.Web.TarifMobilPhone.DefaultPage.PhoneChanged</a></div><div class="ttdeci">void PhoneChanged()</div><div class="ttdoc">Функция, которая вызывается в обработчике изменения значения списка с телефонами </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00579">Default.aspx.cs:579</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ac733282235153c5bbadb4b24cd7af7e5"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ac733282235153c5bbadb4b24cd7af7e5">Kesco.App.Web.TarifMobilPhone.DefaultPage.Event_cbEmployee_Changed</a></div><div class="ttdeci">void Event_cbEmployee_Changed(object sender, ProperyChangedEventArgs e)</div><div class="ttdoc">Обработчик изменения значения в списке с сотрудниками EmployeeChanged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00552">Default.aspx.cs:552</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html">Kesco.App.Web.TarifMobilPhone.DefaultPage</a></div><div class="ttdoc">Класс формы default.aspx - основная форма приложения, Тарификация: Мобильная связь ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00052">Default.aspx.cs:52</a></div></div>
<div class="ttc" id="namespace_utils_html"><div class="ttname"><a href="../../d1/d7c/namespace_utils.html">Utils</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a754a54a25496c2193084db8e320bf31a"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a754a54a25496c2193084db8e320bf31a">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableItemsAllMonthsLevelThree</a></div><div class="ttdeci">void RenderTableItemsAllMonthsLevelThree(DataTable dt, int d, int m, string currency, СalculationNDS calcNds, decimal? ndsStavka, int? ndsIn, int? scale, string trId, StringBuilder sb, ref decimal calcSum, ref decimal calcSumE)</div><div class="ttdoc">Процедура вывода третьего уровня данных - группировка по сотруднику </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01672">Default.aspx.cs:1672</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_acf7051a1fa10bf803a426535769ec972"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#acf7051a1fa10bf803a426535769ec972">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_ТелефоныПоКоторымБылаТарификация</a></div><div class="ttdeci">const string SQL_ТелефоныПоКоторымБылаТарификация</div><div class="ttdoc">Список абонентских телефонных номеров, по которым когда-либо была тарификация </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00100">SQL_Queries.cs:100</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_convert_extention_html"><div class="ttname"><a href="../../d2/d8c/namespace_kesco_1_1_lib_1_1_convert_extention.html">Kesco.Lib.ConvertExtention</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d13/_convert_8cs_source.html#l00009">Convert.cs:9</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a4c77ba404fc4f69a33f99086d698a69b"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4c77ba404fc4f69a33f99086d698a69b">Kesco.App.Web.TarifMobilPhone.DefaultPage.ResxResourceSet</a></div><div class="ttdeci">override void ResxResourceSet()</div><div class="ttdoc">Получение значений строк из ресурсных файлов </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00340">Default.aspx.cs:340</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_accc999487da17f9dd687ac9f5405a844"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#accc999487da17f9dd687ac9f5405a844">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableItemsLevelThree</a></div><div class="ttdeci">void RenderTableItemsLevelThree(DataTable dt, int d, string dText, int p, string currency, СalculationNDS ndsCalc, decimal? ndsStavka, int? ndsIn, int? scale, string color, string title, string trId, StringBuilder sb, ref decimal calcSum, ref decimal calcSumE)</div><div class="ttdoc">Процедура вывода третьего уровня данных - группировка по абоненту </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01317">Default.aspx.cs:1317</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a53bcb2e49ccca3155f35b584144b29c0"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a53bcb2e49ccca3155f35b584144b29c0">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableHeader</a></div><div class="ttdeci">void RenderTableHeader(StringBuilder sb)</div><div class="ttdoc">Процедура, отвечающая за вывод заголовка таблицы с данными </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00965">Default.aspx.cs:965</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config_html_a8b9b5f18d8626a6bf3aa6c1c99344b5b"><div class="ttname"><a href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a8b9b5f18d8626a6bf3aa6c1c99344b5b">Kesco.Lib.Web.Settings.Config.DS_user</a></div><div class="ttdeci">static string DS_user</div><div class="ttdoc">Строка подключения к БД Инвентаризация, использовать для получения по всем сущностям Corporate ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/_config_8cs_source.html#l00101">Config.cs:101</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ae47329d85f22eebdc0be5596ea309822"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae47329d85f22eebdc0be5596ea309822">Kesco.App.Web.TarifMobilPhone.DefaultPage.OpenMonthChanged</a></div><div class="ttdeci">void OpenMonthChanged(string v, bool filterApply)</div><div class="ttdoc">Функция, которая вызывается в обработчике изменения значения флага незакрытого месяца ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00470">Default.aspx.cs:470</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a2ec668dc7a8acdd6fa5c354c3341365c"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2ec668dc7a8acdd6fa5c354c3341365c">Kesco.App.Web.TarifMobilPhone.DefaultPage.SumTDStyleSet</a></div><div class="ttdeci">void SumTDStyleSet(byte? НДСНаСумму, byte? НДСВТарификации, ref СalculationNDS ndsCalc)</div><div class="ttdoc">Установление стиля колонок сумма и сумма, оплачиваемая сотрудником </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01048">Default.aspx.cs:1048</a></div></div>
<div class="ttc" id="namespace_page_html"><div class="ttname"><a href="../../df/dcf/namespace_page.html">Page</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_1_1_d_b_select_html"><div class="ttname"><a href="../../dd/d85/namespace_kesco_1_1_lib_1_1_web_1_1_d_b_select.html">Kesco.Lib.Web.DBSelect</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_html_a5f8a0ac26135bee880289fadf8eb9a0ca43a016fd2e7b236e05f2d7b643beca3f"><div class="ttname"><a href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0ca43a016fd2e7b236e05f2d7b643beca3f">Kesco.App.Web.TarifMobilPhone.СalculationNDS.OnCostOfEachCall</a></div><div class="ttdoc">НДС должен насчитываться на каждый звонок </div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager_html_aa11e3782b0718aa67362339b762327b3"><div class="ttname"><a href="../../dd/d84/class_kesco_1_1_lib_1_1_d_a_l_c_1_1_d_b_manager.html#aa11e3782b0718aa67362339b762327b3">Kesco.Lib.DALC.DBManager.GetData</a></div><div class="ttdeci">static DataTable GetData(string sql, string cn)</div><div class="ttdoc">Выполнение переданного sql </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d5f/_d_b_manager_8cs_source.html#l00123">DBManager.cs:123</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_aaef85e1a2d0599c8bc1b7dc6b4a6b63c"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aaef85e1a2d0599c8bc1b7dc6b4a6b63c">Kesco.App.Web.TarifMobilPhone.DefaultPage.ProcessCommand</a></div><div class="ttdeci">override void ProcessCommand(string cmd, NameValueCollection param)</div><div class="ttdoc">Обработчик команд V4, которые посылаются с клиента на сервер: OpentRpt - открытие отчета...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00305">Default.aspx.cs:305</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a2fedeb85b89503c349911a3b676c2193"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a2fedeb85b89503c349911a3b676c2193">Kesco.App.Web.TarifMobilPhone.DefaultPage.ItemsAllMonthsLevelFour</a></div><div class="ttdeci">void ItemsAllMonthsLevelFour(DataTable dt, int d, int m, int p, СalculationNDS calcNDS, decimal? ndsStavka, ref decimal calcSum, ref decimal calcSumE)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01743">Default.aspx.cs:1743</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a4280cdc8f1b62003eb2ca95b93c9c5c2"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a4280cdc8f1b62003eb2ca95b93c9c5c2">Kesco.App.Web.TarifMobilPhone.DefaultPage.Event_cbDogovor_Changed</a></div><div class="ttdeci">void Event_cbDogovor_Changed(object sender, ProperyChangedEventArgs e)</div><div class="ttdoc">Обработчик изменения значения в списке с договорами DogovorChanged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00531">Default.aspx.cs:531</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a163424cfe875cf2ec2a1058f2d5f75d8"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a163424cfe875cf2ec2a1058f2d5f75d8">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableItemsLevelTwo</a></div><div class="ttdeci">void RenderTableItemsLevelTwo(DataTable dt, int d, string dText, string currency, СalculationNDS ndsCalc, decimal? ndsStavka, int? ndsIn, int? scale, string trId, StringBuilder sb, ref decimal calcSum, ref decimal calcSumE)</div><div class="ttdoc">Процедура вывода второго уровня данных - группировка по сотруднику </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01219">Default.aspx.cs:1219</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_aa16fd0a2291b1cb6e3f16e28c19207e1"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa16fd0a2291b1cb6e3f16e28c19207e1">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableResult</a></div><div class="ttdeci">void RenderTableResult(DataTable dt)</div><div class="ttdoc">Процедура, отвечающая за вывод найденных данных </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00932">Default.aspx.cs:932</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_localization_1_1_resources_html_a67097b04050ae4440544d99a8b529712"><div class="ttname"><a href="../../d6/d0f/class_kesco_1_1_lib_1_1_localization_1_1_resources.html#a67097b04050ae4440544d99a8b529712">Kesco.Lib.Localization.Resources.Resx</a></div><div class="ttdeci">static ResourceManager Resx</div><div class="ttdoc">Статический менеджер ресурсов </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/_accessor_8cs_source.html#l00014">Accessor.cs:14</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_aa0bcdcc149e78d0135e5766ebf7c03e1"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aa0bcdcc149e78d0135e5766ebf7c03e1">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderOpenRptLink</a></div><div class="ttdeci">void RenderOpenRptLink(string p)</div><div class="ttdoc">Генерит ссылку на странице для открытия соответствующего отчета </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00425">Default.aspx.cs:425</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args_html"><div class="ttname"><a href="../../d6/d7d/class_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_propery_changed_event_args.html">Kesco.Lib.Web.Controls.V4.ProperyChangedEventArgs</a></div><div class="ttdoc">Класс обработки события Changed </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d87/_control_8cs_source.html#l01127">Control.cs:1127</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_aad127f87cefc93400377cbc0082aba36"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#aad127f87cefc93400377cbc0082aba36">Kesco.App.Web.TarifMobilPhone.DefaultPage.RefreshTableResult</a></div><div class="ttdeci">void RefreshTableResult(StringBuilder sb)</div><div class="ttdoc">Процедура отправки сформированного HTML-контента на клиента </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01817">Default.aspx.cs:1817</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_html"><div class="ttname"><a href="../../dc/d00/namespace_kesco_1_1_lib_1_1_web.html">Kesco.Lib.Web</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_common_html"><div class="ttname"><a href="../../d7/da9/namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_1_1_common.html">Kesco.Lib.Web.Controls.V4.Common</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a0a5c9f40b2096278be378420a2e089fa"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0a5c9f40b2096278be378420a2e089fa">Kesco.App.Web.TarifMobilPhone.DefaultPage.GetSQLParams</a></div><div class="ttdeci">Dictionary&lt; string, object &gt; GetSQLParams(int inx)</div><div class="ttdoc">Функция, возвращающая словарь с параметрами, установленного фильтра </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00890">Default.aspx.cs:890</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ad05b0da58c1360e9a8e02b646522e426"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ad05b0da58c1360e9a8e02b646522e426">Kesco.App.Web.TarifMobilPhone.DefaultPage.Event_chOpenMonth_Changed</a></div><div class="ttdeci">void Event_chOpenMonth_Changed(object sender, ProperyChangedEventArgs e)</div><div class="ttdoc">Обработчик изменения значения флага незакрытого месяца OpenMonthChanged</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00460">Default.aspx.cs:460</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ab093ad5590dd62245b475a5e4af321ae"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ab093ad5590dd62245b475a5e4af321ae">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableItemsLevelFirst</a></div><div class="ttdeci">void RenderTableItemsLevelFirst(DataTable dt, DataTable dtNDS, StringBuilder sb)</div><div class="ttdoc">Процедура вывода первого уровня данных - группировка по договора </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01084">Default.aspx.cs:1084</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a6b2f11620ea02063050dfa8011d6a520"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a6b2f11620ea02063050dfa8011d6a520">Kesco.App.Web.TarifMobilPhone.DefaultPage.FillComboBoxMonth</a></div><div class="ttdeci">void FillComboBoxMonth()</div><div class="ttdoc">Процедура заполнения списка месяцев тарификации </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00645">Default.aspx.cs:645</a></div></div>
<div class="ttc" id="namespace_kesco_html"><div class="ttname"><a href="../../d2/d2a/namespace_kesco.html">Kesco</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_a1d180e5083aefa940dfffabeeda496b7"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#a1d180e5083aefa940dfffabeeda496b7">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_ТарификацияИтоги</a></div><div class="ttdeci">const string SQL_ТарификацияИтоги</div><div class="ttdoc">Данные тарификации, сгрупированные по Год, Месяц, КодДоговора, КодСотрудника, Абонент ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00119">SQL_Queries.cs:119</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a43c4f933ff2f42f3b3dfc64dc727abb2"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a43c4f933ff2f42f3b3dfc64dc727abb2">Kesco.App.Web.TarifMobilPhone.DefaultPage.FilterClear</a></div><div class="ttdeci">void FilterClear()</div><div class="ttdoc">Процедура очистки установленного фильтра и таблицы с данными </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00832">Default.aspx.cs:832</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_html_a5f8a0ac26135bee880289fadf8eb9a0ca3c841b03acb069eccf34fa1e6898c992"><div class="ttname"><a href="../../d1/de7/namespace_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone.html#a5f8a0ac26135bee880289fadf8eb9a0ca3c841b03acb069eccf34fa1e6898c992">Kesco.App.Web.TarifMobilPhone.СalculationNDS.NotRequired</a></div></div>
<div class="ttc" id="namespace_convert_html"><div class="ttname"><a href="../../de/db9/namespace_convert.html">Convert</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_d_a_l_c_html"><div class="ttname"><a href="../../d6/d9d/namespace_kesco_1_1_lib_1_1_d_a_l_c.html">Kesco.Lib.DALC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dfa/_d_b_command_8cs_source.html#l00004">DBCommand.cs:4</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a889228d035b0e21528b27c250606b5ce"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a889228d035b0e21528b27c250606b5ce">Kesco.App.Web.TarifMobilPhone.DefaultPage.EmployeeChanged</a></div><div class="ttdeci">void EmployeeChanged()</div><div class="ttdoc">Функция, которая вызывается в обработчике изменения значения списка с сотрудниками ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00559">Default.aspx.cs:559</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_ae1ffd6ea317321c0fb593fda377a715a"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#ae1ffd6ea317321c0fb593fda377a715a">Kesco.App.Web.TarifMobilPhone.DefaultPage.RenderTableItemsAllMonthsLevelTwo</a></div><div class="ttdeci">void RenderTableItemsAllMonthsLevelTwo(DataTable dt, DataTable dtNDS, DataTable dtSum, int m, string trId, StringBuilder sb)</div><div class="ttdoc">Процедура вывода второго уровня данных - группировка по договору </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l01536">Default.aspx.cs:1536</a></div></div>
<div class="ttc" id="class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config_html_a652ea879553e47f9f54df4c27508d01e"><div class="ttname"><a href="../../d3/d2d/class_kesco_1_1_lib_1_1_web_1_1_settings_1_1_config.html#a652ea879553e47f9f54df4c27508d01e">Kesco.Lib.Web.Settings.Config.DS_accounting_phone</a></div><div class="ttdeci">static string DS_accounting_phone</div><div class="ttdoc">Строка подключения к БД Тарификация, использовать для получения информации по тарификации мобильной и...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/df4/_config_8cs_source.html#l00116">Config.cs:116</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_entities_html"><div class="ttname"><a href="../../da/dd9/namespace_kesco_1_1_lib_1_1_entities.html">Kesco.Lib.Entities</a></div></div>
<div class="ttc" id="namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4_html"><div class="ttname"><a href="../../d3/df8/namespace_kesco_1_1_lib_1_1_web_1_1_controls_1_1_v4.html">Kesco.Lib.Web.Controls.V4</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_a61523034fa74fa9f61c0fd488287dc15"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#a61523034fa74fa9f61c0fd488287dc15">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_ПервыйГодТарификации</a></div><div class="ttdeci">const string SQL_ПервыйГодТарификации</div><div class="ttdoc">Определение списка годов тарифкации, начиная с первого года тарификации до текущего ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00029">SQL_Queries.cs:29</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries_html_aef6f52b9b1e036afed529d13418e108f"><div class="ttname"><a href="../../dd/df9/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_s_q_l___queries.html#aef6f52b9b1e036afed529d13418e108f">Kesco.App.Web.TarifMobilPhone.SQL_Queries.SQL_СписокВалют</a></div><div class="ttdeci">const string SQL_СписокВалют</div><div class="ttdoc">Список валют(данные получаются в зависимости от таблицы валюты) </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da1/_s_q_l___queries_8cs_source.html#l00198">SQL_Queries.cs:198</a></div></div>
<div class="ttc" id="class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page_html_a0c906bad8cfe92f7c4456cc2949c2855"><div class="ttname"><a href="../../dd/dd5/class_kesco_1_1_app_1_1_web_1_1_tarif_mobil_phone_1_1_default_page.html#a0c906bad8cfe92f7c4456cc2949c2855">Kesco.App.Web.TarifMobilPhone.DefaultPage.DisplayRowsData</a></div><div class="ttdeci">void DisplayRowsData(string p)</div><div class="ttdoc">Процедура, скрывающая/показывающая контролы выбора года и месяца в зависимости от значения флага-Неза...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d31/_kesco_8_app_8_web_8_tarif_mobil_phone_2_default_8aspx_8cs_source.html#l00594">Default.aspx.cs:594</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Документация по Kesco Development Network. Последние изменения: Пт 6 Апр 2018 17:25:35. Создано системой &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
